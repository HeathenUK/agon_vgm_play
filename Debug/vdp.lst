Zilog eZ80 Macro Assembler Version 4.3 (19073001) RELISTED07-Oct-23     20:55:20     page:   1


PC     Object              I  Line    Source 
                           A     1    ; Zilog eZ80 ANSI C Compiler Release 3.4
                           A     2    ; -nomodsect -optspeed -noreduceopt -nopadbranc
                           A     3    ; -peephole -globalopt -localcse -const=ROM 
                           A     4    	FILE	"..\vdp.c"
                           A     5    	.assume ADL=1
                           A     6    .DEBUG "C"
                           A     7    	SEGMENT CODE
                           A     8    .BEGREC "NONAME0",8
                           A     9    .DEFINE "baudRate"
                           A    10    .VALUE 0
                           A    11    .CLASS 8
                           A    12    .TYPE 4
                           A    13    .ENDEF
                           A    14    .DEFINE "dataBits"
                           A    15    .VALUE 3
                           A    16    .CLASS 8
                           A    17    .TYPE 12
                           A    18    .ENDEF
                           A    19    .DEFINE "stopBits"
                           A    20    .VALUE 4
                           A    21    .CLASS 8
                           A    22    .TYPE 12
                           A    23    .ENDEF
                           A    24    .DEFINE "parity"
                           A    25    .VALUE 5
                           A    26    .CLASS 8
                           A    27    .TYPE 12
                           A    28    .ENDEF
                           A    29    .DEFINE "flowcontrol"
                           A    30    .VALUE 6
                           A    31    .CLASS 8
                           A    32    .TYPE 12
                           A    33    .ENDEF
                           A    34    .DEFINE "eir"
                           A    35    .VALUE 7
                           A    36    .CLASS 8
                           A    37    .TYPE 12
                           A    38    .ENDEF
                           A    39    .ENDREC "NONAME0"
                           A    40    .BEGREC "NONAME1",15
                           A    41    .DEFINE "fs"
                           A    42    .VALUE 0
                           A    43    .CLASS 8
                           A    44    .TYPE 46
                           A    45    .ENDEF
                           A    46    .DEFINE "id"
                           A    47    .VALUE 3
                           A    48    .CLASS 8
                           A    49    .TYPE 13
                           A    50    .ENDEF
                           A    51    .DEFINE "attr"
                           A    52    .VALUE 5
                           A    53    .CLASS 8
                           A    54    .TYPE 12
                           A    55    .ENDEF
                           A    56    .DEFINE "stat"
                           A    57    .VALUE 6
                           A    58    .CLASS 8
                           A    59    .TYPE 12
                           A    60    .ENDEF
                           A    61    .DEFINE "sclust"
                           A    62    .VALUE 7
                           A    63    .CLASS 8
                           A    64    .TYPE 15
                           A    65    .ENDEF
                           A    66    .DEFINE "objsize"
                           A    67    .VALUE 11
                           A    68    .CLASS 8
                           A    69    .TYPE 15
                           A    70    .ENDEF
                           A    71    .ENDREC "NONAME1"
                           A    72    .BEGREC "NONAME2",36
                           A    73    .DEFINE "obj"
                           A    74    .VALUE 0
                           A    75    .CLASS 8
                           A    76    .TAG "NONAME1"
                           A    77    .TYPE 8
                           A    78    .ENDEF
                           A    79    .DEFINE "flag"
                           A    80    .VALUE 15
                           A    81    .CLASS 8
                           A    82    .TYPE 12
                           A    83    .ENDEF
                           A    84    .DEFINE "err"
                           A    85    .VALUE 16
                           A    86    .CLASS 8
                           A    87    .TYPE 12
                           A    88    .ENDEF
                           A    89    .DEFINE "fptr"
                           A    90    .VALUE 17
                           A    91    .CLASS 8
                           A    92    .TYPE 15
                           A    93    .ENDEF
                           A    94    .DEFINE "clust"
                           A    95    .VALUE 21
                           A    96    .CLASS 8
                           A    97    .TYPE 15
                           A    98    .ENDEF
                           A    99    .DEFINE "sect"
                           A   100    .VALUE 25
                           A   101    .CLASS 8
                           A   102    .TYPE 15
                           A   103    .ENDEF
                           A   104    .DEFINE "dir_sect"
                           A   105    .VALUE 29
                           A   106    .CLASS 8
                           A   107    .TYPE 15
                           A   108    .ENDEF
                           A   109    .DEFINE "dir_ptr"
                           A   110    .VALUE 33
                           A   111    .CLASS 8
                           A   112    .TYPE 46
                           A   113    .ENDEF
                           A   114    .ENDREC "NONAME2"
                           A   115    ;    1	#include <defines.h>
                           A   116    ;    2	#include "vdp.h"
                           A   117    ;    3	#include "mos-interface.h"
                           A   118    ;    4	
                           A   119    ;    5	// Generic functions
                           A   120    ;    6	
                           A   121    ;    7	void write16bit(UINT16 w)
                           A   122    ;    8	{
0B2652                     A   123    _write16bit:
                           A   124    .DEFINE "_write16bit"
                           A   125    
                           A   126    .VALUE _write16bit
                           A   127    
                           A   128    .CLASS 2
                           A   129    
                           A   130    .TYPE 65
                           A   131    
                           A   132    .ENDEF
                           A   133    
                           A   134    .BEGFUNC "write16bit",8,"_write16bit"
                           A   135    
                           A   136    .LINE 8
                           A   137    
                           A   138    .DEFINE "w"
                           A   139    
                           A   140    .CLASS 65
                           A   141    
                           A   142    .VALUE 6
                           A   143    
                           A   144    .TYPE 13
                           A   145    
                           A   146    .ENDEF
                           A   147    
0B2652 DDE5                A   148    	PUSH	IX
0B2654 DD210000 00         A   149    	LD	IX,0
0B2659 DD39                A   150    	ADD	IX,SP
                           A   151    ;    9		putch(w & 0xFF); // write LSB
                           A   152    .LINE 9
                           A   153    
0B265B DD0706              A   154    	LD	BC,(IX+%6)
0B265E CD F6 3B 0B         A   155    	CALL	__stoiu
0B2662 7D                  A   156    	LD	A,L
0B2663 B7ED62              A   157    	UEXT	HL
0B2666 6F                  A   158    	LD	L,A
0B2667 E5                  A   159    	PUSH	HL
0B2668 CD 22 32 0B         A   160    	CALL	_putch
0B266C C1                  A   161    	POP	BC
                           A   162    ;   10		putch(w >> 8);	 // write MSB	
                           A   163    .LINE 10
                           A   164    
0B266D DD0706              A   165    	LD	BC,(IX+%6)
0B2670 CD F6 3B 0B         A   166    	CALL	__stoiu
0B2674 E5C1                A   167    	LD	BC,HL
0B2676 3B                  A   168    	DEC	SP
0B2677 C5                  A   169    	PUSH	BC
0B2678 33                  A   170    	INC	SP
0B2679 F1                  A   171    	POP	AF
0B267A 17ED62              A   172    	SEXT	HL
0B267D E5                  A   173    	PUSH	HL
0B267E C5                  A   174    	PUSH	BC
0B267F 33                  A   175    	INC	SP
0B2680 C1                  A   176    	POP	BC
0B2681 33                  A   177    	INC	SP
0B2682 33                  A   178    	INC	SP
0B2683 C5                  A   179    	PUSH	BC
0B2684 CD 22 32 0B         A   180    	CALL	_putch
0B2688 C1                  A   181    	POP	BC
                           A   182    ;   11	}
                           A   183    .LINE 11
                           A   184    
0B2689 DDF9                A   185    	LD	SP,IX
0B268B DDE1                A   186    	POP	IX
0B268D C9                  A   187    	RET	
                           A   188    
                           A   189    
                           A   190    ;**************************** _write16bit *****
                           A   191    ;Name                         Addr/Register   S
                           A   192    ;_putch                              IMPORT  --
                           A   193    ;w                                     IX+6    
                           A   194    
                           A   195    
                           A   196    ; Stack Frame Size: 9 (bytes)
                           A   197    ;       Spill Code: 0 (instruction)
                           A   198    
                           A   199    
                           A   200    .ENDFUNC "write16bit",11,"_write16bit"
                           A   201    ;   12	
                           A   202    ;   13	void write32bit(UINT32 l)
                           A   203    ;   14	{
0B268E                     A   204    _write32bit:
                           A   205    .DEFINE "_write32bit"
                           A   206    
                           A   207    .VALUE _write32bit
                           A   208    
                           A   209    .CLASS 2
                           A   210    
                           A   211    .TYPE 65
                           A   212    
                           A   213    .ENDEF
                           A   214    
                           A   215    .BEGFUNC "write32bit",14,"_write32bit"
                           A   216    
                           A   217    .LINE 14
                           A   218    
                           A   219    .DEFINE "l"
                           A   220    
                           A   221    .CLASS 65
                           A   222    
                           A   223    .VALUE 6
                           A   224    
                           A   225    .TYPE 15
                           A   226    
                           A   227    .ENDEF
                           A   228    
                           A   229    .DEFINE "temp"
                           A   230    
                           A   231    .CLASS 65
                           A   232    
                           A   233    .VALUE -4
                           A   234    
                           A   235    .TYPE 15
                           A   236    
                           A   237    .ENDEF
                           A   238    
0B268E DDE5                A   239    	PUSH	IX
0B2690 DD210000 00         A   240    	LD	IX,0
0B2695 DD39                A   241    	ADD	IX,SP
0B2697 C5                  A   242    	PUSH	BC
0B2698 3B                  A   243    	DEC	SP
                           A   244    ;   15		UINT32 temp = l;
                           A   245    ;   16		
                           A   246    ;   17		putch(temp & 0xFF); // write LSB
                           A   247    .LINE 17
                           A   248    
0B2699 DD2706              A   249    	LD	HL,(IX+%6)
0B269C 7D                  A   250    	LD	A,L
0B269D B7ED62              A   251    	UEXT	HL
0B26A0 6F                  A   252    	LD	L,A
0B26A1 E5                  A   253    	PUSH	HL
0B26A2 CD 22 32 0B         A   254    	CALL	_putch
0B26A6 C1                  A   255    	POP	BC
                           A   256    ;   18		temp = temp >> 8;
                           A   257    .LINE 18
                           A   258    
0B26A7 DD0707              A   259    	LD	BC,(IX+%7)
0B26AA AF                  A   260    	XOR	A,A
0B26AB DD0FFC              A   261    	LD	(IX+%FFFFFFFC),BC
0B26AE DD77FF              A   262    	LD	(IX+%FFFFFFFF),A
                           A   263    ;   19		putch(temp & 0xFF);
                           A   264    .LINE 19
                           A   265    
0B26B1 C5E1                A   266    	LD	HL,BC
0B26B3 7D                  A   267    	LD	A,L
0B26B4 B7ED62              A   268    	UEXT	HL
0B26B7 6F                  A   269    	LD	L,A
0B26B8 E5                  A   270    	PUSH	HL
0B26B9 CD 22 32 0B         A   271    	CALL	_putch
0B26BD C1                  A   272    	POP	BC
                           A   273    ;   20		temp = temp >> 8;
                           A   274    .LINE 20
                           A   275    
0B26BE DD07FD              A   276    	LD	BC,(IX+%FFFFFFFD)
0B26C1 AF                  A   277    	XOR	A,A
0B26C2 DD0FFC              A   278    	LD	(IX+%FFFFFFFC),BC
0B26C5 DD77FF              A   279    	LD	(IX+%FFFFFFFF),A
                           A   280    ;   21		putch(temp & 0xFF);
                           A   281    .LINE 21
                           A   282    
0B26C8 C5E1                A   283    	LD	HL,BC
0B26CA 7D                  A   284    	LD	A,L
0B26CB B7ED62              A   285    	UEXT	HL
0B26CE 6F                  A   286    	LD	L,A
0B26CF E5                  A   287    	PUSH	HL
0B26D0 CD 22 32 0B         A   288    	CALL	_putch
0B26D4 C1                  A   289    	POP	BC
                           A   290    ;   22		temp = temp >> 8;
                           A   291    .LINE 22
                           A   292    
0B26D5 DD07FD              A   293    	LD	BC,(IX+%FFFFFFFD)
0B26D8 AF                  A   294    	XOR	A,A
0B26D9 DD0FFC              A   295    	LD	(IX+%FFFFFFFC),BC
0B26DC DD77FF              A   296    	LD	(IX+%FFFFFFFF),A
                           A   297    ;   23		putch(temp & 0xFF);
                           A   298    .LINE 23
                           A   299    
0B26DF C5E1                A   300    	LD	HL,BC
0B26E1 7D                  A   301    	LD	A,L
0B26E2 B7ED62              A   302    	UEXT	HL
0B26E5 6F                  A   303    	LD	L,A
0B26E6 E5                  A   304    	PUSH	HL
0B26E7 CD 22 32 0B         A   305    	CALL	_putch
0B26EB C1                  A   306    	POP	BC
                           A   307    ;   24		return;	
                           A   308    ;   25	}
                           A   309    .LINE 25
                           A   310    
0B26EC DDF9                A   311    	LD	SP,IX
0B26EE DDE1                A   312    	POP	IX
0B26F0 C9                  A   313    	RET	
                           A   314    
                           A   315    
                           A   316    ;**************************** _write32bit *****
                           A   317    ;Name                         Addr/Register   S
                           A   318    ;_putch                              IMPORT  --
                           A   319    ;temp                                  IX-4    
                           A   320    ;l                                     IX+6    
                           A   321    
                           A   322    
                           A   323    ; Stack Frame Size: 16 (bytes)
                           A   324    ;       Spill Code: 0 (instruction)
                           A   325    
                           A   326    
                           A   327    .ENDFUNC "write32bit",25,"_write32bit"
                           A   328    ;   26	
                           A   329    ;   27	void vdp_mode(unsigned char mode)
                           A   330    ;   28	{
0B26F1                     A   331    _vdp_mode:
                           A   332    .DEFINE "_vdp_mode"
                           A   333    
                           A   334    .VALUE _vdp_mode
                           A   335    
                           A   336    .CLASS 2
                           A   337    
                           A   338    .TYPE 65
                           A   339    
                           A   340    .ENDEF
                           A   341    
                           A   342    .BEGFUNC "vdp_mode",28,"_vdp_mode"
                           A   343    
                           A   344    .LINE 28
                           A   345    
                           A   346    .DEFINE "mode"
                           A   347    
                           A   348    .CLASS 65
                           A   349    
                           A   350    .VALUE 6
                           A   351    
                           A   352    .TYPE 12
                           A   353    
                           A   354    .ENDEF
                           A   355    
0B26F1 DDE5                A   356    	PUSH	IX
0B26F3 DD210000 00         A   357    	LD	IX,0
0B26F8 DD39                A   358    	ADD	IX,SP
                           A   359    ;   29	    putch(22);
                           A   360    .LINE 29
                           A   361    
0B26FA 01160000            A   362    	LD	BC,22
0B26FE C5                  A   363    	PUSH	BC
0B26FF CD 22 32 0B         A   364    	CALL	_putch
0B2703 C1                  A   365    	POP	BC
                           A   366    ;   30	    putch(mode);
                           A   367    .LINE 30
                           A   368    
0B2704 DD7E06              A   369    	LD	A,(IX+%6)
0B2707 B7ED62              A   370    	UEXT	HL
0B270A 6F                  A   371    	LD	L,A
0B270B E5                  A   372    	PUSH	HL
0B270C CD 22 32 0B         A   373    	CALL	_putch
0B2710 C1                  A   374    	POP	BC
                           A   375    ;   31	}
                           A   376    .LINE 31
                           A   377    
0B2711 DDF9                A   378    	LD	SP,IX
0B2713 DDE1                A   379    	POP	IX
0B2715 C9                  A   380    	RET	
                           A   381    
                           A   382    
                           A   383    ;**************************** _vdp_mode *******
                           A   384    ;Name                         Addr/Register   S
                           A   385    ;_putch                              IMPORT  --
                           A   386    ;mode                                  IX+6    
                           A   387    
                           A   388    
                           A   389    ; Stack Frame Size: 9 (bytes)
                           A   390    ;       Spill Code: 0 (instruction)
                           A   391    
                           A   392    
                           A   393    .ENDFUNC "vdp_mode",31,"_vdp_mode"
                           A   394    ;   32	
                           A   395    ;   33	void vdp_getMode(void) {
0B2716                     A   396    _vdp_getMode:
                           A   397    .DEFINE "_vdp_getMode"
                           A   398    
                           A   399    .VALUE _vdp_getMode
                           A   400    
                           A   401    .CLASS 2
                           A   402    
                           A   403    .TYPE 65
                           A   404    
                           A   405    .ENDEF
                           A   406    
                           A   407    .BEGFUNC "vdp_getMode",33,"_vdp_getMode"
                           A   408    
0B2716 DDE5                A   409    	PUSH	IX
0B2718 DD210000 00         A   410    	LD	IX,0
0B271D DD39                A   411    	ADD	IX,SP
                           A   412    ;   34		putch(23);
                           A   413    .LINE 34
                           A   414    
0B271F 01170000            A   415    	LD	BC,23
0B2723 C5                  A   416    	PUSH	BC
0B2724 CD 22 32 0B         A   417    	CALL	_putch
0B2728 C1                  A   418    	POP	BC
                           A   419    ;   35		putch(0);
                           A   420    .LINE 35
                           A   421    
0B2729 01000000            A   422    	LD	BC,0
0B272D C5                  A   423    	PUSH	BC
0B272E CD 22 32 0B         A   424    	CALL	_putch
0B2732 C1                  A   425    	POP	BC
                           A   426    ;   36		putch(0x86);
                           A   427    .LINE 36
                           A   428    
0B2733 01860000            A   429    	LD	BC,134
0B2737 C5                  A   430    	PUSH	BC
0B2738 CD 22 32 0B         A   431    	CALL	_putch
0B273C C1                  A   432    	POP	BC
                           A   433    ;   37	}
                           A   434    .LINE 37
                           A   435    
0B273D DDF9                A   436    	LD	SP,IX
0B273F DDE1                A   437    	POP	IX
0B2741 C9                  A   438    	RET	
                           A   439    
                           A   440    
                           A   441    ;**************************** _vdp_getMode ****
                           A   442    ;Name                         Addr/Register   S
                           A   443    ;_putch                              IMPORT  --
                           A   444    
                           A   445    
                           A   446    ; Stack Frame Size: 6 (bytes)
                           A   447    ;       Spill Code: 0 (instruction)
                           A   448    
                           A   449    
                           A   450    .ENDFUNC "vdp_getMode",37,"_vdp_getMode"
                           A   451    ;   38	
                           A   452    ;   39	void vdp_setPaletteColor(UINT8 index, U
0B2742                     A   453    _vdp_setPaletteColor:
                           A   454    .DEFINE "_vdp_setPaletteColor"
                           A   455    
                           A   456    .VALUE _vdp_setPaletteColor
                           A   457    
                           A   458    .CLASS 2
                           A   459    
                           A   460    .TYPE 65
                           A   461    
                           A   462    .ENDEF
                           A   463    
                           A   464    .BEGFUNC "vdp_setPaletteColor",39,"_vdp_setPale
                           A   465    
                           A   466    .LINE 39
                           A   467    
                           A   468    .DEFINE "index"
                           A   469    
                           A   470    .CLASS 65
                           A   471    
                           A   472    .VALUE 6
                           A   473    
                           A   474    .TYPE 12
                           A   475    
                           A   476    .ENDEF
                           A   477    
                           A   478    .DEFINE "color"
                           A   479    
                           A   480    .CLASS 65
                           A   481    
                           A   482    .VALUE 9
                           A   483    
                           A   484    .TYPE 12
                           A   485    
                           A   486    .ENDEF
                           A   487    
                           A   488    .DEFINE "r"
                           A   489    
                           A   490    .CLASS 65
                           A   491    
                           A   492    .VALUE 12
                           A   493    
                           A   494    .TYPE 12
                           A   495    
                           A   496    .ENDEF
                           A   497    
                           A   498    .DEFINE "g"
                           A   499    
                           A   500    .CLASS 65
                           A   501    
                           A   502    .VALUE 15
                           A   503    
                           A   504    .TYPE 12
                           A   505    
                           A   506    .ENDEF
                           A   507    
                           A   508    .DEFINE "b"
                           A   509    
                           A   510    .CLASS 65
                           A   511    
                           A   512    .VALUE 18
                           A   513    
                           A   514    .TYPE 12
                           A   515    
                           A   516    .ENDEF
                           A   517    
0B2742 DDE5                A   518    	PUSH	IX
0B2744 DD210000 00         A   519    	LD	IX,0
0B2749 DD39                A   520    	ADD	IX,SP
                           A   521    ;   40		putch(0x13); // VDU palette
                           A   522    .LINE 40
                           A   523    
0B274B 01130000            A   524    	LD	BC,19
0B274F C5                  A   525    	PUSH	BC
0B2750 CD 22 32 0B         A   526    	CALL	_putch
0B2754 C1                  A   527    	POP	BC
                           A   528    ;   41		putch(index);
                           A   529    .LINE 41
                           A   530    
0B2755 DD7E06              A   531    	LD	A,(IX+%6)
0B2758 B7ED62              A   532    	UEXT	HL
0B275B 6F                  A   533    	LD	L,A
0B275C E5                  A   534    	PUSH	HL
0B275D CD 22 32 0B         A   535    	CALL	_putch
0B2761 C1                  A   536    	POP	BC
                           A   537    ;   42		putch(color); // 255 - set R/G/B co
                           A   538    .LINE 42
                           A   539    
0B2762 DD7E09              A   540    	LD	A,(IX+%9)
0B2765 B7ED62              A   541    	UEXT	HL
0B2768 6F                  A   542    	LD	L,A
0B2769 E5                  A   543    	PUSH	HL
0B276A CD 22 32 0B         A   544    	CALL	_putch
0B276E C1                  A   545    	POP	BC
                           A   546    ;   43		putch(r);
                           A   547    .LINE 43
                           A   548    
0B276F DD7E0C              A   549    	LD	A,(IX+%C)
0B2772 B7ED62              A   550    	UEXT	HL
0B2775 6F                  A   551    	LD	L,A
0B2776 E5                  A   552    	PUSH	HL
0B2777 CD 22 32 0B         A   553    	CALL	_putch
0B277B C1                  A   554    	POP	BC
                           A   555    ;   44		putch(g);
                           A   556    .LINE 44
                           A   557    
0B277C DD7E0F              A   558    	LD	A,(IX+%F)
0B277F B7ED62              A   559    	UEXT	HL
0B2782 6F                  A   560    	LD	L,A
0B2783 E5                  A   561    	PUSH	HL
0B2784 CD 22 32 0B         A   562    	CALL	_putch
0B2788 C1                  A   563    	POP	BC
                           A   564    ;   45		putch(b);
                           A   565    .LINE 45
                           A   566    
0B2789 DD7E12              A   567    	LD	A,(IX+%12)
0B278C B7ED62              A   568    	UEXT	HL
0B278F 6F                  A   569    	LD	L,A
0B2790 E5                  A   570    	PUSH	HL
0B2791 CD 22 32 0B         A   571    	CALL	_putch
0B2795 C1                  A   572    	POP	BC
                           A   573    ;   46	}
                           A   574    .LINE 46
                           A   575    
0B2796 DDF9                A   576    	LD	SP,IX
0B2798 DDE1                A   577    	POP	IX
0B279A C9                  A   578    	RET	
                           A   579    
                           A   580    
                           A   581    ;**************************** _vdp_setPaletteCo
                           A   582    ;Name                         Addr/Register   S
                           A   583    ;_putch                              IMPORT  --
                           A   584    ;b                                    IX+18    
                           A   585    ;g                                    IX+15    
                           A   586    ;r                                    IX+12    
                           A   587    ;color                                 IX+9    
                           A   588    ;index                                 IX+6    
                           A   589    
                           A   590    
                           A   591    ; Stack Frame Size: 21 (bytes)
                           A   592    ;       Spill Code: 0 (instruction)
                           A   593    
                           A   594    
                           A   595    .ENDFUNC "vdp_setPaletteColor",46,"_vdp_setPale
                           A   596    ;   47	
                           A   597    ;   48	// Text functions
                           A   598    ;   49	void vdp_cls()
                           A   599    ;   50	{
0B279B                     A   600    _vdp_cls:
                           A   601    .DEFINE "_vdp_cls"
                           A   602    
                           A   603    .VALUE _vdp_cls
                           A   604    
                           A   605    .CLASS 2
                           A   606    
                           A   607    .TYPE 65
                           A   608    
                           A   609    .ENDEF
                           A   610    
                           A   611    .BEGFUNC "vdp_cls",50,"_vdp_cls"
                           A   612    
0B279B DDE5                A   613    	PUSH	IX
0B279D DD210000 00         A   614    	LD	IX,0
0B27A2 DD39                A   615    	ADD	IX,SP
                           A   616    ;   51	    putch(12);
                           A   617    .LINE 51
                           A   618    
0B27A4 010C0000            A   619    	LD	BC,12
0B27A8 C5                  A   620    	PUSH	BC
0B27A9 CD 22 32 0B         A   621    	CALL	_putch
0B27AD C1                  A   622    	POP	BC
                           A   623    ;   52	}
                           A   624    .LINE 52
                           A   625    
0B27AE DDF9                A   626    	LD	SP,IX
0B27B0 DDE1                A   627    	POP	IX
0B27B2 C9                  A   628    	RET	
                           A   629    
                           A   630    
                           A   631    ;**************************** _vdp_cls ********
                           A   632    ;Name                         Addr/Register   S
                           A   633    ;_putch                              IMPORT  --
                           A   634    
                           A   635    
                           A   636    ; Stack Frame Size: 6 (bytes)
                           A   637    ;       Spill Code: 0 (instruction)
                           A   638    
                           A   639    
                           A   640    .ENDFUNC "vdp_cls",52,"_vdp_cls"
                           A   641    ;   53	
                           A   642    ;   54	void vdp_cursorHome()
                           A   643    ;   55	{
0B27B3                     A   644    _vdp_cursorHome:
                           A   645    .DEFINE "_vdp_cursorHome"
                           A   646    
                           A   647    .VALUE _vdp_cursorHome
                           A   648    
                           A   649    .CLASS 2
                           A   650    
                           A   651    .TYPE 65
                           A   652    
                           A   653    .ENDEF
                           A   654    
                           A   655    .BEGFUNC "vdp_cursorHome",55,"_vdp_cursorHome"
                           A   656    
0B27B3 DDE5                A   657    	PUSH	IX
0B27B5 DD210000 00         A   658    	LD	IX,0
0B27BA DD39                A   659    	ADD	IX,SP
                           A   660    ;   56	    putch(30);
                           A   661    .LINE 56
                           A   662    
0B27BC 011E0000            A   663    	LD	BC,30
0B27C0 C5                  A   664    	PUSH	BC
0B27C1 CD 22 32 0B         A   665    	CALL	_putch
0B27C5 C1                  A   666    	POP	BC
                           A   667    ;   57	}
                           A   668    .LINE 57
                           A   669    
0B27C6 DDF9                A   670    	LD	SP,IX
0B27C8 DDE1                A   671    	POP	IX
0B27CA C9                  A   672    	RET	
                           A   673    
                           A   674    
                           A   675    ;**************************** _vdp_cursorHome *
                           A   676    ;Name                         Addr/Register   S
                           A   677    ;_putch                              IMPORT  --
                           A   678    
                           A   679    
                           A   680    ; Stack Frame Size: 6 (bytes)
                           A   681    ;       Spill Code: 0 (instruction)
                           A   682    
                           A   683    
                           A   684    .ENDFUNC "vdp_cursorHome",57,"_vdp_cursorHome"
                           A   685    ;   58	
                           A   686    ;   59	void vdp_cursorUp()
                           A   687    ;   60	{
0B27CB                     A   688    _vdp_cursorUp:
                           A   689    .DEFINE "_vdp_cursorUp"
                           A   690    
                           A   691    .VALUE _vdp_cursorUp
                           A   692    
                           A   693    .CLASS 2
                           A   694    
                           A   695    .TYPE 65
                           A   696    
                           A   697    .ENDEF
                           A   698    
                           A   699    .BEGFUNC "vdp_cursorUp",60,"_vdp_cursorUp"
                           A   700    
0B27CB DDE5                A   701    	PUSH	IX
0B27CD DD210000 00         A   702    	LD	IX,0
0B27D2 DD39                A   703    	ADD	IX,SP
                           A   704    ;   61	    putch(11);
                           A   705    .LINE 61
                           A   706    
0B27D4 010B0000            A   707    	LD	BC,11
0B27D8 C5                  A   708    	PUSH	BC
0B27D9 CD 22 32 0B         A   709    	CALL	_putch
0B27DD C1                  A   710    	POP	BC
                           A   711    ;   62	}
                           A   712    .LINE 62
                           A   713    
0B27DE DDF9                A   714    	LD	SP,IX
0B27E0 DDE1                A   715    	POP	IX
0B27E2 C9                  A   716    	RET	
                           A   717    
                           A   718    
                           A   719    ;**************************** _vdp_cursorUp ***
                           A   720    ;Name                         Addr/Register   S
                           A   721    ;_putch                              IMPORT  --
                           A   722    
                           A   723    
                           A   724    ; Stack Frame Size: 6 (bytes)
                           A   725    ;       Spill Code: 0 (instruction)
                           A   726    
                           A   727    
                           A   728    .ENDFUNC "vdp_cursorUp",62,"_vdp_cursorUp"
                           A   729    ;   63	
                           A   730    ;   64	void vdp_cursorGoto(unsigned char x, un
                           A   731    ;   65	{
0B27E3                     A   732    _vdp_cursorGoto:
                           A   733    .DEFINE "_vdp_cursorGoto"
                           A   734    
                           A   735    .VALUE _vdp_cursorGoto
                           A   736    
                           A   737    .CLASS 2
                           A   738    
                           A   739    .TYPE 65
                           A   740    
                           A   741    .ENDEF
                           A   742    
                           A   743    .BEGFUNC "vdp_cursorGoto",65,"_vdp_cursorGoto"
                           A   744    
                           A   745    .LINE 65
                           A   746    
                           A   747    .DEFINE "x"
                           A   748    
                           A   749    .CLASS 65
                           A   750    
                           A   751    .VALUE 6
                           A   752    
                           A   753    .TYPE 12
                           A   754    
                           A   755    .ENDEF
                           A   756    
                           A   757    .DEFINE "y"
                           A   758    
                           A   759    .CLASS 65
                           A   760    
                           A   761    .VALUE 9
                           A   762    
                           A   763    .TYPE 12
                           A   764    
                           A   765    .ENDEF
                           A   766    
0B27E3 DDE5                A   767    	PUSH	IX
0B27E5 DD210000 00         A   768    	LD	IX,0
0B27EA DD39                A   769    	ADD	IX,SP
                           A   770    ;   66	    putch(31); // TAB
                           A   771    .LINE 66
                           A   772    
0B27EC 011F0000            A   773    	LD	BC,31
0B27F0 C5                  A   774    	PUSH	BC
0B27F1 CD 22 32 0B         A   775    	CALL	_putch
0B27F5 C1                  A   776    	POP	BC
                           A   777    ;   67	    putch(x);
                           A   778    .LINE 67
                           A   779    
0B27F6 DD7E06              A   780    	LD	A,(IX+%6)
0B27F9 B7ED62              A   781    	UEXT	HL
0B27FC 6F                  A   782    	LD	L,A
0B27FD E5                  A   783    	PUSH	HL
0B27FE CD 22 32 0B         A   784    	CALL	_putch
0B2802 C1                  A   785    	POP	BC
                           A   786    ;   68	    putch(y);
                           A   787    .LINE 68
                           A   788    
0B2803 DD7E09              A   789    	LD	A,(IX+%9)
0B2806 B7ED62              A   790    	UEXT	HL
0B2809 6F                  A   791    	LD	L,A
0B280A E5                  A   792    	PUSH	HL
0B280B CD 22 32 0B         A   793    	CALL	_putch
0B280F C1                  A   794    	POP	BC
                           A   795    ;   69	}
                           A   796    .LINE 69
                           A   797    
0B2810 DDF9                A   798    	LD	SP,IX
0B2812 DDE1                A   799    	POP	IX
0B2814 C9                  A   800    	RET	
                           A   801    
                           A   802    
                           A   803    ;**************************** _vdp_cursorGoto *
                           A   804    ;Name                         Addr/Register   S
                           A   805    ;_putch                              IMPORT  --
                           A   806    ;y                                     IX+9    
                           A   807    ;x                                     IX+6    
                           A   808    
                           A   809    
                           A   810    ; Stack Frame Size: 12 (bytes)
                           A   811    ;       Spill Code: 0 (instruction)
                           A   812    
                           A   813    
                           A   814    .ENDFUNC "vdp_cursorGoto",69,"_vdp_cursorGoto"
                           A   815    ;   70	
                           A   816    ;   71	void vdp_colour(unsigned char foregroun
                           A   817    ;   72	{
0B2815                     A   818    _vdp_colour:
                           A   819    .DEFINE "_vdp_colour"
                           A   820    
                           A   821    .VALUE _vdp_colour
                           A   822    
                           A   823    .CLASS 2
                           A   824    
                           A   825    .TYPE 65
                           A   826    
                           A   827    .ENDEF
                           A   828    
                           A   829    .BEGFUNC "vdp_colour",72,"_vdp_colour"
                           A   830    
                           A   831    .LINE 72
                           A   832    
                           A   833    .DEFINE "foreground"
                           A   834    
                           A   835    .CLASS 65
                           A   836    
                           A   837    .VALUE 6
                           A   838    
                           A   839    .TYPE 12
                           A   840    
                           A   841    .ENDEF
                           A   842    
                           A   843    .DEFINE "r"
                           A   844    
                           A   845    .CLASS 65
                           A   846    
                           A   847    .VALUE 9
                           A   848    
                           A   849    .TYPE 12
                           A   850    
                           A   851    .ENDEF
                           A   852    
                           A   853    .DEFINE "g"
                           A   854    
                           A   855    .CLASS 65
                           A   856    
                           A   857    .VALUE 12
                           A   858    
                           A   859    .TYPE 12
                           A   860    
                           A   861    .ENDEF
                           A   862    
                           A   863    .DEFINE "b"
                           A   864    
                           A   865    .CLASS 65
                           A   866    
                           A   867    .VALUE 15
                           A   868    
                           A   869    .TYPE 12
                           A   870    
                           A   871    .ENDEF
                           A   872    
0B2815 DDE5                A   873    	PUSH	IX
0B2817 DD210000 00         A   874    	LD	IX,0
0B281C DD39                A   875    	ADD	IX,SP
0B281E C5                  A   876    	PUSH	BC
                           A   877    ;   73	    putch(17); // COLOUR
                           A   878    .LINE 73
                           A   879    
0B281F 01110000            A   880    	LD	BC,17
0B2823 C5                  A   881    	PUSH	BC
0B2824 CD 22 32 0B         A   882    	CALL	_putch
0B2828 C1                  A   883    	POP	BC
                           A   884    ;   74	    putch(!foreground);
                           A   885    .LINE 74
                           A   886    
0B2829 DD7E06              A   887    	LD	A,(IX+%6)
0B282C B7                  A   888    	OR	A,A
0B282D 20 09               A   889    	JR	NZ,L_10
0B282F 01010000            A   890    	LD	BC,1
0B2833 DD0FFD              A   891    	LD	(IX+%FFFFFFFD),BC
0B2836 18 07               A   892    	JR	L_11
0B2838                     A   893    L_10:
0B2838 01000000            A   894    	LD	BC,0
0B283C DD0FFD              A   895    	LD	(IX+%FFFFFFFD),BC
0B283F                     A   896    L_11:
0B283F DD07FD              A   897    	LD	BC,(IX+%FFFFFFFD)
0B2842 C5                  A   898    	PUSH	BC
0B2843 CD 22 32 0B         A   899    	CALL	_putch
0B2847 C1                  A   900    	POP	BC
                           A   901    ;   75	    putch(r);
                           A   902    .LINE 75
                           A   903    
0B2848 DD7E09              A   904    	LD	A,(IX+%9)
0B284B B7ED62              A   905    	UEXT	HL
0B284E 6F                  A   906    	LD	L,A
0B284F E5                  A   907    	PUSH	HL
0B2850 CD 22 32 0B         A   908    	CALL	_putch
0B2854 C1                  A   909    	POP	BC
                           A   910    ;   76	    putch(g);
                           A   911    .LINE 76
                           A   912    
0B2855 DD7E0C              A   913    	LD	A,(IX+%C)
0B2858 B7ED62              A   914    	UEXT	HL
0B285B 6F                  A   915    	LD	L,A
0B285C E5                  A   916    	PUSH	HL
0B285D CD 22 32 0B         A   917    	CALL	_putch
0B2861 C1                  A   918    	POP	BC
                           A   919    ;   77	    putch(b);
                           A   920    .LINE 77
                           A   921    
0B2862 DD7E0F              A   922    	LD	A,(IX+%F)
0B2865 B7ED62              A   923    	UEXT	HL
0B2868 6F                  A   924    	LD	L,A
0B2869 E5                  A   925    	PUSH	HL
0B286A CD 22 32 0B         A   926    	CALL	_putch
0B286E C1                  A   927    	POP	BC
                           A   928    ;   78	}
                           A   929    .LINE 78
                           A   930    
0B286F DDF9                A   931    	LD	SP,IX
0B2871 DDE1                A   932    	POP	IX
0B2873 C9                  A   933    	RET	
                           A   934    
                           A   935    
                           A   936    ;**************************** _vdp_colour *****
                           A   937    ;Name                         Addr/Register   S
                           A   938    ;_putch                              IMPORT  --
                           A   939    ;temp12                                IX-3    
                           A   940    ;b                                    IX+15    
                           A   941    ;g                                    IX+12    
                           A   942    ;r                                     IX+9    
                           A   943    ;foreground                            IX+6    
                           A   944    
                           A   945    
                           A   946    ; Stack Frame Size: 21 (bytes)
                           A   947    ;       Spill Code: 0 (instruction)
                           A   948    
                           A   949    
                           A   950    .ENDFUNC "vdp_colour",78,"_vdp_colour"
                           A   951    ;   79	
                           A   952    ;   80	void vdp_fgcolour(unsigned char r, unsi
                           A   953    ;   81	{
0B2874                     A   954    _vdp_fgcolour:
                           A   955    .DEFINE "_vdp_fgcolour"
                           A   956    
                           A   957    .VALUE _vdp_fgcolour
                           A   958    
                           A   959    .CLASS 2
                           A   960    
                           A   961    .TYPE 65
                           A   962    
                           A   963    .ENDEF
                           A   964    
                           A   965    .BEGFUNC "vdp_fgcolour",81,"_vdp_fgcolour"
                           A   966    
                           A   967    .LINE 81
                           A   968    
                           A   969    .DEFINE "r"
                           A   970    
                           A   971    .CLASS 65
                           A   972    
                           A   973    .VALUE 6
                           A   974    
                           A   975    .TYPE 12
                           A   976    
                           A   977    .ENDEF
                           A   978    
                           A   979    .DEFINE "g"
                           A   980    
                           A   981    .CLASS 65
                           A   982    
                           A   983    .VALUE 9
                           A   984    
                           A   985    .TYPE 12
                           A   986    
                           A   987    .ENDEF
                           A   988    
                           A   989    .DEFINE "b"
                           A   990    
                           A   991    .CLASS 65
                           A   992    
                           A   993    .VALUE 12
                           A   994    
                           A   995    .TYPE 12
                           A   996    
                           A   997    .ENDEF
                           A   998    
0B2874 DDE5                A   999    	PUSH	IX
0B2876 DD210000 00         A  1000    	LD	IX,0
0B287B DD39                A  1001    	ADD	IX,SP
                           A  1002    ;   82	    vdp_colour(1,r,g,b);
                           A  1003    .LINE 82
                           A  1004    
0B287D DD4E0C              A  1005    	LD	C,(IX+%C)
0B2880 0600                A  1006    	LD	B,%0
0B2882 C5                  A  1007    	PUSH	BC
0B2883 DD4E09              A  1008    	LD	C,(IX+%9)
0B2886 C5                  A  1009    	PUSH	BC
0B2887 DD4E06              A  1010    	LD	C,(IX+%6)
0B288A C5                  A  1011    	PUSH	BC
0B288B 01010000            A  1012    	LD	BC,1
0B288F C5                  A  1013    	PUSH	BC
0B2890 CD 15 28 0B         A  1014    	CALL	_vdp_colour
0B2894 C1                  A  1015    	POP	BC
0B2895 C1                  A  1016    	POP	BC
0B2896 C1                  A  1017    	POP	BC
0B2897 C1                  A  1018    	POP	BC
                           A  1019    ;   83	}
                           A  1020    .LINE 83
                           A  1021    
0B2898 DDF9                A  1022    	LD	SP,IX
0B289A DDE1                A  1023    	POP	IX
0B289C C9                  A  1024    	RET	
                           A  1025    
                           A  1026    
                           A  1027    ;**************************** _vdp_fgcolour ***
                           A  1028    ;Name                         Addr/Register   S
                           A  1029    ;b                                    IX+12    
                           A  1030    ;g                                     IX+9    
                           A  1031    ;r                                     IX+6    
                           A  1032    
                           A  1033    
                           A  1034    ; Stack Frame Size: 15 (bytes)
                           A  1035    ;       Spill Code: 0 (instruction)
                           A  1036    
                           A  1037    
                           A  1038    .ENDFUNC "vdp_fgcolour",83,"_vdp_fgcolour"
                           A  1039    ;   84	
                           A  1040    ;   85	void vdp_bgcolour(unsigned char r, unsi
                           A  1041    ;   86	{
0B289D                     A  1042    _vdp_bgcolour:
                           A  1043    .DEFINE "_vdp_bgcolour"
                           A  1044    
                           A  1045    .VALUE _vdp_bgcolour
                           A  1046    
                           A  1047    .CLASS 2
                           A  1048    
                           A  1049    .TYPE 65
                           A  1050    
                           A  1051    .ENDEF
                           A  1052    
                           A  1053    .BEGFUNC "vdp_bgcolour",86,"_vdp_bgcolour"
                           A  1054    
                           A  1055    .LINE 86
                           A  1056    
                           A  1057    .DEFINE "r"
                           A  1058    
                           A  1059    .CLASS 65
                           A  1060    
                           A  1061    .VALUE 6
                           A  1062    
                           A  1063    .TYPE 12
                           A  1064    
                           A  1065    .ENDEF
                           A  1066    
                           A  1067    .DEFINE "g"
                           A  1068    
                           A  1069    .CLASS 65
                           A  1070    
                           A  1071    .VALUE 9
                           A  1072    
                           A  1073    .TYPE 12
                           A  1074    
                           A  1075    .ENDEF
                           A  1076    
                           A  1077    .DEFINE "b"
                           A  1078    
                           A  1079    .CLASS 65
                           A  1080    
                           A  1081    .VALUE 12
                           A  1082    
                           A  1083    .TYPE 12
                           A  1084    
                           A  1085    .ENDEF
                           A  1086    
0B289D DDE5                A  1087    	PUSH	IX
0B289F DD210000 00         A  1088    	LD	IX,0
0B28A4 DD39                A  1089    	ADD	IX,SP
                           A  1090    ;   87	    vdp_colour(0,r,g,b);
                           A  1091    .LINE 87
                           A  1092    
0B28A6 DD4E0C              A  1093    	LD	C,(IX+%C)
0B28A9 0600                A  1094    	LD	B,%0
0B28AB C5                  A  1095    	PUSH	BC
0B28AC DD4E09              A  1096    	LD	C,(IX+%9)
0B28AF C5                  A  1097    	PUSH	BC
0B28B0 DD4E06              A  1098    	LD	C,(IX+%6)
0B28B3 C5                  A  1099    	PUSH	BC
0B28B4 01000000            A  1100    	LD	BC,0
0B28B8 C5                  A  1101    	PUSH	BC
0B28B9 CD 15 28 0B         A  1102    	CALL	_vdp_colour
0B28BD C1                  A  1103    	POP	BC
0B28BE C1                  A  1104    	POP	BC
0B28BF C1                  A  1105    	POP	BC
0B28C0 C1                  A  1106    	POP	BC
                           A  1107    ;   88	}
                           A  1108    .LINE 88
                           A  1109    
0B28C1 DDF9                A  1110    	LD	SP,IX
0B28C3 DDE1                A  1111    	POP	IX
0B28C5 C9                  A  1112    	RET	
                           A  1113    
                           A  1114    
                           A  1115    ;**************************** _vdp_bgcolour ***
                           A  1116    ;Name                         Addr/Register   S
                           A  1117    ;b                                    IX+12    
                           A  1118    ;g                                     IX+9    
                           A  1119    ;r                                     IX+6    
                           A  1120    
                           A  1121    
                           A  1122    ; Stack Frame Size: 15 (bytes)
                           A  1123    ;       Spill Code: 0 (instruction)
                           A  1124    
                           A  1125    
                           A  1126    .ENDFUNC "vdp_bgcolour",88,"_vdp_bgcolour"
                           A  1127    ;   89	
                           A  1128    ;   90	//
                           A  1129    ;   91	// Graphics functions
                           A  1130    ;   92	//
                           A  1131    ;   93	
                           A  1132    ;   94	void vdp_clearGraphics()
                           A  1133    ;   95	{
0B28C6                     A  1134    _vdp_clearGraphics:
                           A  1135    .DEFINE "_vdp_clearGraphics"
                           A  1136    
                           A  1137    .VALUE _vdp_clearGraphics
                           A  1138    
                           A  1139    .CLASS 2
                           A  1140    
                           A  1141    .TYPE 65
                           A  1142    
                           A  1143    .ENDEF
                           A  1144    
                           A  1145    .BEGFUNC "vdp_clearGraphics",95,"_vdp_clearGrap
                           A  1146    
0B28C6 DDE5                A  1147    	PUSH	IX
0B28C8 DD210000 00         A  1148    	LD	IX,0
0B28CD DD39                A  1149    	ADD	IX,SP
                           A  1150    ;   96	    putch(16);    
                           A  1151    .LINE 96
                           A  1152    
0B28CF 01100000            A  1153    	LD	BC,16
0B28D3 C5                  A  1154    	PUSH	BC
0B28D4 CD 22 32 0B         A  1155    	CALL	_putch
0B28D8 C1                  A  1156    	POP	BC
                           A  1157    ;   97	}
                           A  1158    .LINE 97
                           A  1159    
0B28D9 DDF9                A  1160    	LD	SP,IX
0B28DB DDE1                A  1161    	POP	IX
0B28DD C9                  A  1162    	RET	
                           A  1163    
                           A  1164    
                           A  1165    ;**************************** _vdp_clearGraphic
                           A  1166    ;Name                         Addr/Register   S
                           A  1167    ;_putch                              IMPORT  --
                           A  1168    
                           A  1169    
                           A  1170    ; Stack Frame Size: 6 (bytes)
                           A  1171    ;       Spill Code: 0 (instruction)
                           A  1172    
                           A  1173    
                           A  1174    .ENDFUNC "vdp_clearGraphics",97,"_vdp_clearGrap
                           A  1175    ;   98	
                           A  1176    ;   99	void vdp_plotColour(unsigned char r, un
                           A  1177    ;  100	{
0B28DE                     A  1178    _vdp_plotColour:
                           A  1179    .DEFINE "_vdp_plotColour"
                           A  1180    
                           A  1181    .VALUE _vdp_plotColour
                           A  1182    
                           A  1183    .CLASS 2
                           A  1184    
                           A  1185    .TYPE 65
                           A  1186    
                           A  1187    .ENDEF
                           A  1188    
                           A  1189    .BEGFUNC "vdp_plotColour",100,"_vdp_plotColour"
                           A  1190    
                           A  1191    .LINE 100
                           A  1192    
                           A  1193    .DEFINE "r"
                           A  1194    
                           A  1195    .CLASS 65
                           A  1196    
                           A  1197    .VALUE 6
                           A  1198    
                           A  1199    .TYPE 12
                           A  1200    
                           A  1201    .ENDEF
                           A  1202    
                           A  1203    .DEFINE "g"
                           A  1204    
                           A  1205    .CLASS 65
                           A  1206    
                           A  1207    .VALUE 9
                           A  1208    
                           A  1209    .TYPE 12
                           A  1210    
                           A  1211    .ENDEF
                           A  1212    
                           A  1213    .DEFINE "b"
                           A  1214    
                           A  1215    .CLASS 65
                           A  1216    
                           A  1217    .VALUE 12
                           A  1218    
                           A  1219    .TYPE 12
                           A  1220    
                           A  1221    .ENDEF
                           A  1222    
0B28DE DDE5                A  1223    	PUSH	IX
0B28E0 DD210000 00         A  1224    	LD	IX,0
0B28E5 DD39                A  1225    	ADD	IX,SP
                           A  1226    ;  101	    putch(18); // GCOL
                           A  1227    .LINE 101
                           A  1228    
0B28E7 01120000            A  1229    	LD	BC,18
0B28EB C5                  A  1230    	PUSH	BC
0B28EC CD 22 32 0B         A  1231    	CALL	_putch
0B28F0 C1                  A  1232    	POP	BC
                           A  1233    ;  102	    putch(0);
                           A  1234    .LINE 102
                           A  1235    
0B28F1 01000000            A  1236    	LD	BC,0
0B28F5 C5                  A  1237    	PUSH	BC
0B28F6 CD 22 32 0B         A  1238    	CALL	_putch
0B28FA C1                  A  1239    	POP	BC
                           A  1240    ;  103	    putch(r);
                           A  1241    .LINE 103
                           A  1242    
0B28FB DD7E06              A  1243    	LD	A,(IX+%6)
0B28FE B7ED62              A  1244    	UEXT	HL
0B2901 6F                  A  1245    	LD	L,A
0B2902 E5                  A  1246    	PUSH	HL
0B2903 CD 22 32 0B         A  1247    	CALL	_putch
0B2907 C1                  A  1248    	POP	BC
                           A  1249    ;  104	    putch(g);
                           A  1250    .LINE 104
                           A  1251    
0B2908 DD7E09              A  1252    	LD	A,(IX+%9)
0B290B B7ED62              A  1253    	UEXT	HL
0B290E 6F                  A  1254    	LD	L,A
0B290F E5                  A  1255    	PUSH	HL
0B2910 CD 22 32 0B         A  1256    	CALL	_putch
0B2914 C1                  A  1257    	POP	BC
                           A  1258    ;  105	    putch(b);
                           A  1259    .LINE 105
                           A  1260    
0B2915 DD7E0C              A  1261    	LD	A,(IX+%C)
0B2918 B7ED62              A  1262    	UEXT	HL
0B291B 6F                  A  1263    	LD	L,A
0B291C E5                  A  1264    	PUSH	HL
0B291D CD 22 32 0B         A  1265    	CALL	_putch
0B2921 C1                  A  1266    	POP	BC
                           A  1267    ;  106	}
                           A  1268    .LINE 106
                           A  1269    
0B2922 DDF9                A  1270    	LD	SP,IX
0B2924 DDE1                A  1271    	POP	IX
0B2926 C9                  A  1272    	RET	
                           A  1273    
                           A  1274    
                           A  1275    ;**************************** _vdp_plotColour *
                           A  1276    ;Name                         Addr/Register   S
                           A  1277    ;_putch                              IMPORT  --
                           A  1278    ;b                                    IX+12    
                           A  1279    ;g                                     IX+9    
                           A  1280    ;r                                     IX+6    
                           A  1281    
                           A  1282    
                           A  1283    ; Stack Frame Size: 15 (bytes)
                           A  1284    ;       Spill Code: 0 (instruction)
                           A  1285    
                           A  1286    
                           A  1287    .ENDFUNC "vdp_plotColour",106,"_vdp_plotColour"
                           A  1288    ;  107	
                           A  1289    ;  108	// internal function
                           A  1290    ;  109	void vdp_plot(unsigned char mode, unsig
                           A  1291    ;  110	{
0B2927                     A  1292    _vdp_plot:
                           A  1293    .DEFINE "_vdp_plot"
                           A  1294    
                           A  1295    .VALUE _vdp_plot
                           A  1296    
                           A  1297    .CLASS 2
                           A  1298    
                           A  1299    .TYPE 65
                           A  1300    
                           A  1301    .ENDEF
                           A  1302    
                           A  1303    .BEGFUNC "vdp_plot",110,"_vdp_plot"
                           A  1304    
                           A  1305    .LINE 110
                           A  1306    
                           A  1307    .DEFINE "mode"
                           A  1308    
                           A  1309    .CLASS 65
                           A  1310    
                           A  1311    .VALUE 6
                           A  1312    
                           A  1313    .TYPE 12
                           A  1314    
                           A  1315    .ENDEF
                           A  1316    
                           A  1317    .DEFINE "x"
                           A  1318    
                           A  1319    .CLASS 65
                           A  1320    
                           A  1321    .VALUE 9
                           A  1322    
                           A  1323    .TYPE 14
                           A  1324    
                           A  1325    .ENDEF
                           A  1326    
                           A  1327    .DEFINE "y"
                           A  1328    
                           A  1329    .CLASS 65
                           A  1330    
                           A  1331    .VALUE 12
                           A  1332    
                           A  1333    .TYPE 14
                           A  1334    
                           A  1335    .ENDEF
                           A  1336    
0B2927 DDE5                A  1337    	PUSH	IX
0B2929 DD210000 00         A  1338    	LD	IX,0
0B292E DD39                A  1339    	ADD	IX,SP
0B2930 3B                  A  1340    	DEC	SP
                           A  1341    ;  111	    putch(25); // PLOT
                           A  1342    .LINE 111
                           A  1343    
0B2931 01190000            A  1344    	LD	BC,25
0B2935 C5                  A  1345    	PUSH	BC
0B2936 CD 22 32 0B         A  1346    	CALL	_putch
0B293A C1                  A  1347    	POP	BC
                           A  1348    ;  112	    putch(mode);
                           A  1349    .LINE 112
                           A  1350    
0B293B DD7E06              A  1351    	LD	A,(IX+%6)
0B293E B7ED62              A  1352    	UEXT	HL
0B2941 6F                  A  1353    	LD	L,A
0B2942 E5                  A  1354    	PUSH	HL
0B2943 CD 22 32 0B         A  1355    	CALL	_putch
0B2947 C1                  A  1356    	POP	BC
                           A  1357    ;  113	    putch(x & 0xFF);
                           A  1358    .LINE 113
                           A  1359    
0B2948 DD7E09              A  1360    	LD	A,(IX+%9)
0B294B B7ED62              A  1361    	UEXT	HL
0B294E 6F                  A  1362    	LD	L,A
0B294F E5                  A  1363    	PUSH	HL
0B2950 DD77FF              A  1364    	LD	(IX+%FFFFFFFF),A
0B2953 CD 22 32 0B         A  1365    	CALL	_putch
0B2957 DD7EFF              A  1366    	LD	A,(IX+%FFFFFFFF)
0B295A C1                  A  1367    	POP	BC
                           A  1368    ;  114	    putch(x >> 8);
                           A  1369    .LINE 114
                           A  1370    
0B295B B7ED62              A  1371    	UEXT	HL
0B295E E5                  A  1372    	PUSH	HL
0B295F DD2709              A  1373    	LD	HL,(IX+%9)
0B2962 E5                  A  1374    	PUSH	HL
0B2963 33                  A  1375    	INC	SP
0B2964 E1                  A  1376    	POP	HL
0B2965 33                  A  1377    	INC	SP
0B2966 33                  A  1378    	INC	SP
0B2967 E5                  A  1379    	PUSH	HL
0B2968 CD 22 32 0B         A  1380    	CALL	_putch
0B296C C1                  A  1381    	POP	BC
                           A  1382    ;  115	    putch(y & 0xFF);
                           A  1383    .LINE 115
                           A  1384    
0B296D DD7E0C              A  1385    	LD	A,(IX+%C)
0B2970 B7ED62              A  1386    	UEXT	HL
0B2973 6F                  A  1387    	LD	L,A
0B2974 E5                  A  1388    	PUSH	HL
0B2975 DD77FF              A  1389    	LD	(IX+%FFFFFFFF),A
0B2978 CD 22 32 0B         A  1390    	CALL	_putch
0B297C DD7EFF              A  1391    	LD	A,(IX+%FFFFFFFF)
0B297F C1                  A  1392    	POP	BC
                           A  1393    ;  116	    putch(y >> 8);
                           A  1394    .LINE 116
                           A  1395    
0B2980 B7ED62              A  1396    	UEXT	HL
0B2983 E5                  A  1397    	PUSH	HL
0B2984 DD270C              A  1398    	LD	HL,(IX+%C)
0B2987 E5                  A  1399    	PUSH	HL
0B2988 33                  A  1400    	INC	SP
0B2989 E1                  A  1401    	POP	HL
0B298A 33                  A  1402    	INC	SP
0B298B 33                  A  1403    	INC	SP
0B298C E5                  A  1404    	PUSH	HL
0B298D CD 22 32 0B         A  1405    	CALL	_putch
0B2991 C1                  A  1406    	POP	BC
                           A  1407    ;  117	}
                           A  1408    .LINE 117
                           A  1409    
0B2992 DDF9                A  1410    	LD	SP,IX
0B2994 DDE1                A  1411    	POP	IX
0B2996 C9                  A  1412    	RET	
                           A  1413    
                           A  1414    
                           A  1415    ;**************************** _vdp_plot *******
                           A  1416    ;Name                         Addr/Register   S
                           A  1417    ;_putch                              IMPORT  --
                           A  1418    ;y                                    IX+12    
                           A  1419    ;x                                     IX+9    
                           A  1420    ;mode                                  IX+6    
                           A  1421    
                           A  1422    
                           A  1423    ; Stack Frame Size: 16 (bytes)
                           A  1424    ;       Spill Code: 0 (instruction)
                           A  1425    
                           A  1426    
                           A  1427    .ENDFUNC "vdp_plot",117,"_vdp_plot"
                           A  1428    ;  118	
                           A  1429    ;  119	void vdp_plotMoveTo(unsigned int x, uns
                           A  1430    ;  120	{
0B2997                     A  1431    _vdp_plotMoveTo:
                           A  1432    .DEFINE "_vdp_plotMoveTo"
                           A  1433    
                           A  1434    .VALUE _vdp_plotMoveTo
                           A  1435    
                           A  1436    .CLASS 2
                           A  1437    
                           A  1438    .TYPE 65
                           A  1439    
                           A  1440    .ENDEF
                           A  1441    
                           A  1442    .BEGFUNC "vdp_plotMoveTo",120,"_vdp_plotMoveTo"
                           A  1443    
                           A  1444    .LINE 120
                           A  1445    
                           A  1446    .DEFINE "x"
                           A  1447    
                           A  1448    .CLASS 65
                           A  1449    
                           A  1450    .VALUE 6
                           A  1451    
                           A  1452    .TYPE 14
                           A  1453    
                           A  1454    .ENDEF
                           A  1455    
                           A  1456    .DEFINE "y"
                           A  1457    
                           A  1458    .CLASS 65
                           A  1459    
                           A  1460    .VALUE 9
                           A  1461    
                           A  1462    .TYPE 14
                           A  1463    
                           A  1464    .ENDEF
                           A  1465    
0B2997 DDE5                A  1466    	PUSH	IX
0B2999 DD210000 00         A  1467    	LD	IX,0
0B299E DD39                A  1468    	ADD	IX,SP
                           A  1469    ;  121		vdp_plot(0x04,x,y);
                           A  1470    .LINE 121
                           A  1471    
0B29A0 DD0709              A  1472    	LD	BC,(IX+%9)
0B29A3 C5                  A  1473    	PUSH	BC
0B29A4 DD0706              A  1474    	LD	BC,(IX+%6)
0B29A7 C5                  A  1475    	PUSH	BC
0B29A8 01040000            A  1476    	LD	BC,4
0B29AC C5                  A  1477    	PUSH	BC
0B29AD CD 27 29 0B         A  1478    	CALL	_vdp_plot
0B29B1 C1                  A  1479    	POP	BC
0B29B2 C1                  A  1480    	POP	BC
0B29B3 C1                  A  1481    	POP	BC
                           A  1482    ;  122	}
                           A  1483    .LINE 122
                           A  1484    
0B29B4 DDF9                A  1485    	LD	SP,IX
0B29B6 DDE1                A  1486    	POP	IX
0B29B8 C9                  A  1487    	RET	
                           A  1488    
                           A  1489    
                           A  1490    ;**************************** _vdp_plotMoveTo *
                           A  1491    ;Name                         Addr/Register   S
                           A  1492    ;y                                     IX+9    
                           A  1493    ;x                                     IX+6    
                           A  1494    
                           A  1495    
                           A  1496    ; Stack Frame Size: 12 (bytes)
                           A  1497    ;       Spill Code: 0 (instruction)
                           A  1498    
                           A  1499    
                           A  1500    .ENDFUNC "vdp_plotMoveTo",122,"_vdp_plotMoveTo"
                           A  1501    ;  123	
                           A  1502    ;  124	void vdp_plotLineTo(unsigned int x, uns
                           A  1503    ;  125	{
0B29B9                     A  1504    _vdp_plotLineTo:
                           A  1505    .DEFINE "_vdp_plotLineTo"
                           A  1506    
                           A  1507    .VALUE _vdp_plotLineTo
                           A  1508    
                           A  1509    .CLASS 2
                           A  1510    
                           A  1511    .TYPE 65
                           A  1512    
                           A  1513    .ENDEF
                           A  1514    
                           A  1515    .BEGFUNC "vdp_plotLineTo",125,"_vdp_plotLineTo"
                           A  1516    
                           A  1517    .LINE 125
                           A  1518    
                           A  1519    .DEFINE "x"
                           A  1520    
                           A  1521    .CLASS 65
                           A  1522    
                           A  1523    .VALUE 6
                           A  1524    
                           A  1525    .TYPE 14
                           A  1526    
                           A  1527    .ENDEF
                           A  1528    
                           A  1529    .DEFINE "y"
                           A  1530    
                           A  1531    .CLASS 65
                           A  1532    
                           A  1533    .VALUE 9
                           A  1534    
                           A  1535    .TYPE 14
                           A  1536    
                           A  1537    .ENDEF
                           A  1538    
0B29B9 DDE5                A  1539    	PUSH	IX
0B29BB DD210000 00         A  1540    	LD	IX,0
0B29C0 DD39                A  1541    	ADD	IX,SP
                           A  1542    ;  126		vdp_plot(0x05,x,y);
                           A  1543    .LINE 126
                           A  1544    
0B29C2 DD0709              A  1545    	LD	BC,(IX+%9)
0B29C5 C5                  A  1546    	PUSH	BC
0B29C6 DD0706              A  1547    	LD	BC,(IX+%6)
0B29C9 C5                  A  1548    	PUSH	BC
0B29CA 01050000            A  1549    	LD	BC,5
0B29CE C5                  A  1550    	PUSH	BC
0B29CF CD 27 29 0B         A  1551    	CALL	_vdp_plot
0B29D3 C1                  A  1552    	POP	BC
0B29D4 C1                  A  1553    	POP	BC
0B29D5 C1                  A  1554    	POP	BC
                           A  1555    ;  127	}
                           A  1556    .LINE 127
                           A  1557    
0B29D6 DDF9                A  1558    	LD	SP,IX
0B29D8 DDE1                A  1559    	POP	IX
0B29DA C9                  A  1560    	RET	
                           A  1561    
                           A  1562    
                           A  1563    ;**************************** _vdp_plotLineTo *
                           A  1564    ;Name                         Addr/Register   S
                           A  1565    ;y                                     IX+9    
                           A  1566    ;x                                     IX+6    
                           A  1567    
                           A  1568    
                           A  1569    ; Stack Frame Size: 12 (bytes)
                           A  1570    ;       Spill Code: 0 (instruction)
                           A  1571    
                           A  1572    
                           A  1573    .ENDFUNC "vdp_plotLineTo",127,"_vdp_plotLineTo"
                           A  1574    ;  128	
                           A  1575    ;  129	void vdp_plotPoint(unsigned int x, unsi
                           A  1576    ;  130	{
0B29DB                     A  1577    _vdp_plotPoint:
                           A  1578    .DEFINE "_vdp_plotPoint"
                           A  1579    
                           A  1580    .VALUE _vdp_plotPoint
                           A  1581    
                           A  1582    .CLASS 2
                           A  1583    
                           A  1584    .TYPE 65
                           A  1585    
                           A  1586    .ENDEF
                           A  1587    
                           A  1588    .BEGFUNC "vdp_plotPoint",130,"_vdp_plotPoint"
                           A  1589    
                           A  1590    .LINE 130
                           A  1591    
                           A  1592    .DEFINE "x"
                           A  1593    
                           A  1594    .CLASS 65
                           A  1595    
                           A  1596    .VALUE 6
                           A  1597    
                           A  1598    .TYPE 14
                           A  1599    
                           A  1600    .ENDEF
                           A  1601    
                           A  1602    .DEFINE "y"
                           A  1603    
                           A  1604    .CLASS 65
                           A  1605    
                           A  1606    .VALUE 9
                           A  1607    
                           A  1608    .TYPE 14
                           A  1609    
                           A  1610    .ENDEF
                           A  1611    
0B29DB DDE5                A  1612    	PUSH	IX
0B29DD DD210000 00         A  1613    	LD	IX,0
0B29E2 DD39                A  1614    	ADD	IX,SP
                           A  1615    ;  131		vdp_plot(0x40,x,y);
                           A  1616    .LINE 131
                           A  1617    
0B29E4 DD0709              A  1618    	LD	BC,(IX+%9)
0B29E7 C5                  A  1619    	PUSH	BC
0B29E8 DD0706              A  1620    	LD	BC,(IX+%6)
0B29EB C5                  A  1621    	PUSH	BC
0B29EC 01400000            A  1622    	LD	BC,64
0B29F0 C5                  A  1623    	PUSH	BC
0B29F1 CD 27 29 0B         A  1624    	CALL	_vdp_plot
0B29F5 C1                  A  1625    	POP	BC
0B29F6 C1                  A  1626    	POP	BC
0B29F7 C1                  A  1627    	POP	BC
                           A  1628    ;  132	}
                           A  1629    .LINE 132
                           A  1630    
0B29F8 DDF9                A  1631    	LD	SP,IX
0B29FA DDE1                A  1632    	POP	IX
0B29FC C9                  A  1633    	RET	
                           A  1634    
                           A  1635    
                           A  1636    ;**************************** _vdp_plotPoint **
                           A  1637    ;Name                         Addr/Register   S
                           A  1638    ;y                                     IX+9    
                           A  1639    ;x                                     IX+6    
                           A  1640    
                           A  1641    
                           A  1642    ; Stack Frame Size: 12 (bytes)
                           A  1643    ;       Spill Code: 0 (instruction)
                           A  1644    
                           A  1645    
                           A  1646    .ENDFUNC "vdp_plotPoint",132,"_vdp_plotPoint"
                           A  1647    ;  133	
                           A  1648    ;  134	void vdp_plotTriangle(unsigned int x, u
                           A  1649    ;  135	{
0B29FD                     A  1650    _vdp_plotTriangle:
                           A  1651    .DEFINE "_vdp_plotTriangle"
                           A  1652    
                           A  1653    .VALUE _vdp_plotTriangle
                           A  1654    
                           A  1655    .CLASS 2
                           A  1656    
                           A  1657    .TYPE 65
                           A  1658    
                           A  1659    .ENDEF
                           A  1660    
                           A  1661    .BEGFUNC "vdp_plotTriangle",135,"_vdp_plotTrian
                           A  1662    
                           A  1663    .LINE 135
                           A  1664    
                           A  1665    .DEFINE "x"
                           A  1666    
                           A  1667    .CLASS 65
                           A  1668    
                           A  1669    .VALUE 6
                           A  1670    
                           A  1671    .TYPE 14
                           A  1672    
                           A  1673    .ENDEF
                           A  1674    
                           A  1675    .DEFINE "y"
                           A  1676    
                           A  1677    .CLASS 65
                           A  1678    
                           A  1679    .VALUE 9
                           A  1680    
                           A  1681    .TYPE 14
                           A  1682    
                           A  1683    .ENDEF
                           A  1684    
0B29FD DDE5                A  1685    	PUSH	IX
0B29FF DD210000 00         A  1686    	LD	IX,0
0B2A04 DD39                A  1687    	ADD	IX,SP
                           A  1688    ;  136		vdp_plot(0x50,x,y);
                           A  1689    .LINE 136
                           A  1690    
0B2A06 DD0709              A  1691    	LD	BC,(IX+%9)
0B2A09 C5                  A  1692    	PUSH	BC
0B2A0A DD0706              A  1693    	LD	BC,(IX+%6)
0B2A0D C5                  A  1694    	PUSH	BC
0B2A0E 01500000            A  1695    	LD	BC,80
0B2A12 C5                  A  1696    	PUSH	BC
0B2A13 CD 27 29 0B         A  1697    	CALL	_vdp_plot
0B2A17 C1                  A  1698    	POP	BC
0B2A18 C1                  A  1699    	POP	BC
0B2A19 C1                  A  1700    	POP	BC
                           A  1701    ;  137	}
                           A  1702    .LINE 137
                           A  1703    
0B2A1A DDF9                A  1704    	LD	SP,IX
0B2A1C DDE1                A  1705    	POP	IX
0B2A1E C9                  A  1706    	RET	
                           A  1707    
                           A  1708    
                           A  1709    ;**************************** _vdp_plotTriangle
                           A  1710    ;Name                         Addr/Register   S
                           A  1711    ;y                                     IX+9    
                           A  1712    ;x                                     IX+6    
                           A  1713    
                           A  1714    
                           A  1715    ; Stack Frame Size: 12 (bytes)
                           A  1716    ;       Spill Code: 0 (instruction)
                           A  1717    
                           A  1718    
                           A  1719    .ENDFUNC "vdp_plotTriangle",137,"_vdp_plotTrian
                           A  1720    ;  138	
                           A  1721    ;  139	void vdp_plotCircleRadius(unsigned int 
                           A  1722    ;  140	{
0B2A1F                     A  1723    _vdp_plotCircleRadius:
                           A  1724    .DEFINE "_vdp_plotCircleRadius"
                           A  1725    
                           A  1726    .VALUE _vdp_plotCircleRadius
                           A  1727    
                           A  1728    .CLASS 2
                           A  1729    
                           A  1730    .TYPE 65
                           A  1731    
                           A  1732    .ENDEF
                           A  1733    
                           A  1734    .BEGFUNC "vdp_plotCircleRadius",140,"_vdp_plotC
                           A  1735    
                           A  1736    .LINE 140
                           A  1737    
                           A  1738    .DEFINE "r"
                           A  1739    
                           A  1740    .CLASS 65
                           A  1741    
                           A  1742    .VALUE 6
                           A  1743    
                           A  1744    .TYPE 14
                           A  1745    
                           A  1746    .ENDEF
                           A  1747    
0B2A1F DDE5                A  1748    	PUSH	IX
0B2A21 DD210000 00         A  1749    	LD	IX,0
0B2A26 DD39                A  1750    	ADD	IX,SP
                           A  1751    ;  141		vdp_plot(0x90,r,0);
                           A  1752    .LINE 141
                           A  1753    
0B2A28 01000000            A  1754    	LD	BC,0
0B2A2C C5                  A  1755    	PUSH	BC
0B2A2D DD0706              A  1756    	LD	BC,(IX+%6)
0B2A30 C5                  A  1757    	PUSH	BC
0B2A31 01900000            A  1758    	LD	BC,144
0B2A35 C5                  A  1759    	PUSH	BC
0B2A36 CD 27 29 0B         A  1760    	CALL	_vdp_plot
0B2A3A C1                  A  1761    	POP	BC
0B2A3B C1                  A  1762    	POP	BC
0B2A3C C1                  A  1763    	POP	BC
                           A  1764    ;  142	}
                           A  1765    .LINE 142
                           A  1766    
0B2A3D DDF9                A  1767    	LD	SP,IX
0B2A3F DDE1                A  1768    	POP	IX
0B2A41 C9                  A  1769    	RET	
                           A  1770    
                           A  1771    
                           A  1772    ;**************************** _vdp_plotCircleRa
                           A  1773    ;Name                         Addr/Register   S
                           A  1774    ;r                                     IX+6    
                           A  1775    
                           A  1776    
                           A  1777    ; Stack Frame Size: 9 (bytes)
                           A  1778    ;       Spill Code: 0 (instruction)
                           A  1779    
                           A  1780    
                           A  1781    .ENDFUNC "vdp_plotCircleRadius",142,"_vdp_plotC
                           A  1782    ;  143	
                           A  1783    ;  144	void vdp_plotCircleCircumference(unsign
                           A  1784    ;  145	{
0B2A42                     A  1785    _vdp_plotCircleCircumference:
                           A  1786    .DEFINE "_vdp_plotCircleCircumference"
                           A  1787    
                           A  1788    .VALUE _vdp_plotCircleCircumference
                           A  1789    
                           A  1790    .CLASS 2
                           A  1791    
                           A  1792    .TYPE 65
                           A  1793    
                           A  1794    .ENDEF
                           A  1795    
                           A  1796    .BEGFUNC "vdp_plotCircleCircumference",145,"_vd
                           A  1797    
                           A  1798    .LINE 145
                           A  1799    
                           A  1800    .DEFINE "x"
                           A  1801    
                           A  1802    .CLASS 65
                           A  1803    
                           A  1804    .VALUE 6
                           A  1805    
                           A  1806    .TYPE 14
                           A  1807    
                           A  1808    .ENDEF
                           A  1809    
                           A  1810    .DEFINE "y"
                           A  1811    
                           A  1812    .CLASS 65
                           A  1813    
                           A  1814    .VALUE 9
                           A  1815    
                           A  1816    .TYPE 14
                           A  1817    
                           A  1818    .ENDEF
                           A  1819    
0B2A42 DDE5                A  1820    	PUSH	IX
0B2A44 DD210000 00         A  1821    	LD	IX,0
0B2A49 DD39                A  1822    	ADD	IX,SP
                           A  1823    ;  146		vdp_plot(0x95,x,y);
                           A  1824    .LINE 146
                           A  1825    
0B2A4B DD0709              A  1826    	LD	BC,(IX+%9)
0B2A4E C5                  A  1827    	PUSH	BC
0B2A4F DD0706              A  1828    	LD	BC,(IX+%6)
0B2A52 C5                  A  1829    	PUSH	BC
0B2A53 01950000            A  1830    	LD	BC,149
0B2A57 C5                  A  1831    	PUSH	BC
0B2A58 CD 27 29 0B         A  1832    	CALL	_vdp_plot
0B2A5C C1                  A  1833    	POP	BC
0B2A5D C1                  A  1834    	POP	BC
0B2A5E C1                  A  1835    	POP	BC
                           A  1836    ;  147	}
                           A  1837    .LINE 147
                           A  1838    
0B2A5F DDF9                A  1839    	LD	SP,IX
0B2A61 DDE1                A  1840    	POP	IX
0B2A63 C9                  A  1841    	RET	
                           A  1842    
                           A  1843    
                           A  1844    ;**************************** _vdp_plotCircleCi
                           A  1845    ;Name                         Addr/Register   S
                           A  1846    ;y                                     IX+9    
                           A  1847    ;x                                     IX+6    
                           A  1848    
                           A  1849    
                           A  1850    ; Stack Frame Size: 12 (bytes)
                           A  1851    ;       Spill Code: 0 (instruction)
                           A  1852    
                           A  1853    
                           A  1854    .ENDFUNC "vdp_plotCircleCircumference",147,"_vd
                           A  1855    ;  148	
                           A  1856    ;  149	void vdp_plotSetOrigin(unsigned int x, 
                           A  1857    ;  150	{
0B2A64                     A  1858    _vdp_plotSetOrigin:
                           A  1859    .DEFINE "_vdp_plotSetOrigin"
                           A  1860    
                           A  1861    .VALUE _vdp_plotSetOrigin
                           A  1862    
                           A  1863    .CLASS 2
                           A  1864    
                           A  1865    .TYPE 65
                           A  1866    
                           A  1867    .ENDEF
                           A  1868    
                           A  1869    .BEGFUNC "vdp_plotSetOrigin",150,"_vdp_plotSetO
                           A  1870    
                           A  1871    .LINE 150
                           A  1872    
                           A  1873    .DEFINE "x"
                           A  1874    
                           A  1875    .CLASS 65
                           A  1876    
                           A  1877    .VALUE 6
                           A  1878    
                           A  1879    .TYPE 14
                           A  1880    
                           A  1881    .ENDEF
                           A  1882    
                           A  1883    .DEFINE "y"
                           A  1884    
                           A  1885    .CLASS 65
                           A  1886    
                           A  1887    .VALUE 9
                           A  1888    
                           A  1889    .TYPE 14
                           A  1890    
                           A  1891    .ENDEF
                           A  1892    
0B2A64 DDE5                A  1893    	PUSH	IX
0B2A66 DD210000 00         A  1894    	LD	IX,0
0B2A6B DD39                A  1895    	ADD	IX,SP
0B2A6D 3B                  A  1896    	DEC	SP
                           A  1897    ;  151	    putch(29); //Graphics ORIGIN
                           A  1898    .LINE 151
                           A  1899    
0B2A6E 011D0000            A  1900    	LD	BC,29
0B2A72 C5                  A  1901    	PUSH	BC
0B2A73 CD 22 32 0B         A  1902    	CALL	_putch
0B2A77 C1                  A  1903    	POP	BC
                           A  1904    ;  152	    putch(x & 0xF);
                           A  1905    .LINE 152
                           A  1906    
0B2A78 DD7E06              A  1907    	LD	A,(IX+%6)
0B2A7B E60F                A  1908    	AND	A,%F
0B2A7D B7ED62              A  1909    	UEXT	HL
0B2A80 6F                  A  1910    	LD	L,A
0B2A81 E5                  A  1911    	PUSH	HL
0B2A82 DD77FF              A  1912    	LD	(IX+%FFFFFFFF),A
0B2A85 CD 22 32 0B         A  1913    	CALL	_putch
0B2A89 DD7EFF              A  1914    	LD	A,(IX+%FFFFFFFF)
0B2A8C C1                  A  1915    	POP	BC
                           A  1916    ;  153	    putch(x >> 8);
                           A  1917    .LINE 153
                           A  1918    
0B2A8D B7ED62              A  1919    	UEXT	HL
0B2A90 E5                  A  1920    	PUSH	HL
0B2A91 DD2706              A  1921    	LD	HL,(IX+%6)
0B2A94 E5                  A  1922    	PUSH	HL
0B2A95 33                  A  1923    	INC	SP
0B2A96 E1                  A  1924    	POP	HL
0B2A97 33                  A  1925    	INC	SP
0B2A98 33                  A  1926    	INC	SP
0B2A99 E5                  A  1927    	PUSH	HL
0B2A9A CD 22 32 0B         A  1928    	CALL	_putch
0B2A9E C1                  A  1929    	POP	BC
                           A  1930    ;  154	    putch(y & 0xF);
                           A  1931    .LINE 154
                           A  1932    
0B2A9F DD7E09              A  1933    	LD	A,(IX+%9)
0B2AA2 E60F                A  1934    	AND	A,%F
0B2AA4 B7ED62              A  1935    	UEXT	HL
0B2AA7 6F                  A  1936    	LD	L,A
0B2AA8 E5                  A  1937    	PUSH	HL
0B2AA9 DD77FF              A  1938    	LD	(IX+%FFFFFFFF),A
0B2AAC CD 22 32 0B         A  1939    	CALL	_putch
0B2AB0 DD7EFF              A  1940    	LD	A,(IX+%FFFFFFFF)
0B2AB3 C1                  A  1941    	POP	BC
                           A  1942    ;  155	    putch(y >> 8);
                           A  1943    .LINE 155
                           A  1944    
0B2AB4 B7ED62              A  1945    	UEXT	HL
0B2AB7 E5                  A  1946    	PUSH	HL
0B2AB8 DD2709              A  1947    	LD	HL,(IX+%9)
0B2ABB E5                  A  1948    	PUSH	HL
0B2ABC 33                  A  1949    	INC	SP
0B2ABD E1                  A  1950    	POP	HL
0B2ABE 33                  A  1951    	INC	SP
0B2ABF 33                  A  1952    	INC	SP
0B2AC0 E5                  A  1953    	PUSH	HL
0B2AC1 CD 22 32 0B         A  1954    	CALL	_putch
0B2AC5 C1                  A  1955    	POP	BC
                           A  1956    ;  156	}
                           A  1957    .LINE 156
                           A  1958    
0B2AC6 DDF9                A  1959    	LD	SP,IX
0B2AC8 DDE1                A  1960    	POP	IX
0B2ACA C9                  A  1961    	RET	
                           A  1962    
                           A  1963    
                           A  1964    ;**************************** _vdp_plotSetOrigi
                           A  1965    ;Name                         Addr/Register   S
                           A  1966    ;_putch                              IMPORT  --
                           A  1967    ;y                                     IX+9    
                           A  1968    ;x                                     IX+6    
                           A  1969    
                           A  1970    
                           A  1971    ; Stack Frame Size: 13 (bytes)
                           A  1972    ;       Spill Code: 0 (instruction)
                           A  1973    
                           A  1974    
                           A  1975    .ENDFUNC "vdp_plotSetOrigin",156,"_vdp_plotSetO
                           A  1976    ;  157	
                           A  1977    ;  158	// Bitmap VDP functions
                           A  1978    ;  159	void vdp_bitmapSelect(UINT8 id)
                           A  1979    ;  160	{
0B2ACB                     A  1980    _vdp_bitmapSelect:
                           A  1981    .DEFINE "_vdp_bitmapSelect"
                           A  1982    
                           A  1983    .VALUE _vdp_bitmapSelect
                           A  1984    
                           A  1985    .CLASS 2
                           A  1986    
                           A  1987    .TYPE 65
                           A  1988    
                           A  1989    .ENDEF
                           A  1990    
                           A  1991    .BEGFUNC "vdp_bitmapSelect",160,"_vdp_bitmapSel
                           A  1992    
                           A  1993    .LINE 160
                           A  1994    
                           A  1995    .DEFINE "id"
                           A  1996    
                           A  1997    .CLASS 65
                           A  1998    
                           A  1999    .VALUE 6
                           A  2000    
                           A  2001    .TYPE 12
                           A  2002    
                           A  2003    .ENDEF
                           A  2004    
0B2ACB DDE5                A  2005    	PUSH	IX
0B2ACD DD210000 00         A  2006    	LD	IX,0
0B2AD2 DD39                A  2007    	ADD	IX,SP
                           A  2008    ;  161		putch(23); // vdu_sys
                           A  2009    .LINE 161
                           A  2010    
0B2AD4 01170000            A  2011    	LD	BC,23
0B2AD8 C5                  A  2012    	PUSH	BC
0B2AD9 CD 22 32 0B         A  2013    	CALL	_putch
0B2ADD C1                  A  2014    	POP	BC
                           A  2015    ;  162		putch(27); // sprite command
                           A  2016    .LINE 162
                           A  2017    
0B2ADE 011B0000            A  2018    	LD	BC,27
0B2AE2 C5                  A  2019    	PUSH	BC
0B2AE3 CD 22 32 0B         A  2020    	CALL	_putch
0B2AE7 C1                  A  2021    	POP	BC
                           A  2022    ;  163		putch(0);  // select command
                           A  2023    .LINE 163
                           A  2024    
0B2AE8 01000000            A  2025    	LD	BC,0
0B2AEC C5                  A  2026    	PUSH	BC
0B2AED CD 22 32 0B         A  2027    	CALL	_putch
0B2AF1 C1                  A  2028    	POP	BC
                           A  2029    ;  164		putch(id); // bitmap_id
                           A  2030    .LINE 164
                           A  2031    
0B2AF2 DD7E06              A  2032    	LD	A,(IX+%6)
0B2AF5 B7ED62              A  2033    	UEXT	HL
0B2AF8 6F                  A  2034    	LD	L,A
0B2AF9 E5                  A  2035    	PUSH	HL
0B2AFA CD 22 32 0B         A  2036    	CALL	_putch
0B2AFE C1                  A  2037    	POP	BC
                           A  2038    ;  165		return;	
                           A  2039    ;  166	}
                           A  2040    .LINE 166
                           A  2041    
0B2AFF DDF9                A  2042    	LD	SP,IX
0B2B01 DDE1                A  2043    	POP	IX
0B2B03 C9                  A  2044    	RET	
                           A  2045    
                           A  2046    
                           A  2047    ;**************************** _vdp_bitmapSelect
                           A  2048    ;Name                         Addr/Register   S
                           A  2049    ;_putch                              IMPORT  --
                           A  2050    ;id                                    IX+6    
                           A  2051    
                           A  2052    
                           A  2053    ; Stack Frame Size: 9 (bytes)
                           A  2054    ;       Spill Code: 0 (instruction)
                           A  2055    
                           A  2056    
                           A  2057    .ENDFUNC "vdp_bitmapSelect",166,"_vdp_bitmapSel
                           A  2058    ;  167	
                           A  2059    ;  168	void vdp_bitmapSendDataSelected(UINT16 
                           A  2060    ;  169	{
0B2B04                     A  2061    _vdp_bitmapSendDataSelected:
                           A  2062    .DEFINE "_vdp_bitmapSendDataSelected"
                           A  2063    
                           A  2064    .VALUE _vdp_bitmapSendDataSelected
                           A  2065    
                           A  2066    .CLASS 2
                           A  2067    
                           A  2068    .TYPE 65
                           A  2069    
                           A  2070    .ENDEF
                           A  2071    
                           A  2072    .BEGFUNC "vdp_bitmapSendDataSelected",169,"_vdp
                           A  2073    
                           A  2074    .LINE 169
                           A  2075    
                           A  2076    .DEFINE "width"
                           A  2077    
                           A  2078    .CLASS 65
                           A  2079    
                           A  2080    .VALUE 6
                           A  2081    
                           A  2082    .TYPE 13
                           A  2083    
                           A  2084    .ENDEF
                           A  2085    
                           A  2086    .DEFINE "height"
                           A  2087    
                           A  2088    .CLASS 65
                           A  2089    
                           A  2090    .VALUE 9
                           A  2091    
                           A  2092    .TYPE 13
                           A  2093    
                           A  2094    .ENDEF
                           A  2095    
                           A  2096    .DEFINE "data"
                           A  2097    
                           A  2098    .CLASS 65
                           A  2099    
                           A  2100    .VALUE 12
                           A  2101    
                           A  2102    .TYPE 47
                           A  2103    
                           A  2104    .ENDEF
                           A  2105    
                           A  2106    .DEFINE "n"
                           A  2107    
                           A  2108    .CLASS 65
                           A  2109    
                           A  2110    .VALUE -2
                           A  2111    
                           A  2112    .TYPE 13
                           A  2113    
                           A  2114    .ENDEF
                           A  2115    
0B2B04 DDE5                A  2116    	PUSH	IX
0B2B06 DD210000 00         A  2117    	LD	IX,0
0B2B0B DD39                A  2118    	ADD	IX,SP
0B2B0D 3B                  A  2119    	DEC	SP
0B2B0E 3B                  A  2120    	DEC	SP
                           A  2121    ;  170		UINT16 n;
                           A  2122    ;  171		
                           A  2123    ;  172		putch(23); // vdu_sys
                           A  2124    .LINE 172
                           A  2125    
0B2B0F 01170000            A  2126    	LD	BC,23
0B2B13 C5                  A  2127    	PUSH	BC
0B2B14 CD 22 32 0B         A  2128    	CALL	_putch
0B2B18 C1                  A  2129    	POP	BC
                           A  2130    ;  173		putch(27); // sprite command
                           A  2131    .LINE 173
                           A  2132    
0B2B19 011B0000            A  2133    	LD	BC,27
0B2B1D C5                  A  2134    	PUSH	BC
0B2B1E CD 22 32 0B         A  2135    	CALL	_putch
0B2B22 C1                  A  2136    	POP	BC
                           A  2137    ;  174		putch(1);  // send data to selected
                           A  2138    .LINE 174
                           A  2139    
0B2B23 01010000            A  2140    	LD	BC,1
0B2B27 C5                  A  2141    	PUSH	BC
0B2B28 CD 22 32 0B         A  2142    	CALL	_putch
0B2B2C C1                  A  2143    	POP	BC
                           A  2144    ;  175		
                           A  2145    ;  176		write16bit(width);
                           A  2146    .LINE 176
                           A  2147    
0B2B2D DD0706              A  2148    	LD	BC,(IX+%6)
0B2B30 C5                  A  2149    	PUSH	BC
0B2B31 CD 52 26 0B         A  2150    	CALL	_write16bit
0B2B35 C1                  A  2151    	POP	BC
                           A  2152    ;  177		write16bit(height);
                           A  2153    .LINE 177
                           A  2154    
0B2B36 DD0709              A  2155    	LD	BC,(IX+%9)
0B2B39 C5                  A  2156    	PUSH	BC
0B2B3A CD 52 26 0B         A  2157    	CALL	_write16bit
0B2B3E C1                  A  2158    	POP	BC
                           A  2159    ;  178		
                           A  2160    ;  179		for(n = 0; n < (width*height); n++)
                           A  2161    .LINE 179
                           A  2162    
0B2B3F DD36FE00            A  2163    	LD	(IX+%FFFFFFFE),%0
0B2B43 DD36FF00            A  2164    	LD	(IX+%FFFFFFFF),%0
0B2B47 18 2B               A  2165    	JR	L_30
0B2B49                     A  2166    L_28:
                           A  2167    ;  180		{
                           A  2168    ;  181			write32bit(data[n]);
                           A  2169    .LINE 181
                           A  2170    
0B2B49 DD07FE              A  2171    	LD	BC,(IX+%FFFFFFFE)
0B2B4C CD F6 3B 0B         A  2172    	CALL	__stoiu
0B2B50 29                  A  2173    	ADD	HL,HL
0B2B51 29                  A  2174    	ADD	HL,HL
0B2B52 DD070C              A  2175    	LD	BC,(IX+%C)
0B2B55 09                  A  2176    	ADD	HL,BC
0B2B56 E5FDE1              A  2177    	LD	IY,HL
0B2B59 FD0700              A  2178    	LD	BC,(IY)
0B2B5C FD7E03              A  2179    	LD	A,(IY+%3)
0B2B5F 2600                A  2180    	LD	H,%0
0B2B61 6F                  A  2181    	LD	L,A
0B2B62 E5                  A  2182    	PUSH	HL
0B2B63 C5                  A  2183    	PUSH	BC
0B2B64 CD 8E 26 0B         A  2184    	CALL	_write32bit
0B2B68 C1                  A  2185    	POP	BC
0B2B69 C1                  A  2186    	POP	BC
0B2B6A DD27FE              A  2187    	LD	HL,(IX+%FFFFFFFE)
0B2B6D 23                  A  2188    	INC	HL
0B2B6E DD75FE              A  2189    	LD	(IX+%FFFFFFFE),L
0B2B71 DD74FF              A  2190    	LD	(IX+%FFFFFFFF),H
                           A  2191    ;  182			//delayms(1);
                           A  2192    ;  183		}
0B2B74                     A  2193    L_30:
                           A  2194    .LINE 183
                           A  2195    
0B2B74 DD0706              A  2196    	LD	BC,(IX+%6)
0B2B77 CD F6 3B 0B         A  2197    	CALL	__stoiu
0B2B7B E5D1                A  2198    	LD	DE,HL
0B2B7D DD0709              A  2199    	LD	BC,(IX+%9)
0B2B80 CD F6 3B 0B         A  2200    	CALL	__stoiu
0B2B84 E5C1                A  2201    	LD	BC,HL
0B2B86 D5E1                A  2202    	LD	HL,DE
0B2B88 CD 7E 3E 0B         A  2203    	CALL	__imuls
0B2B8C E5D1                A  2204    	LD	DE,HL
0B2B8E DD07FE              A  2205    	LD	BC,(IX+%FFFFFFFE)
0B2B91 CD F6 3B 0B         A  2206    	CALL	__stoiu
0B2B95 B7                  A  2207    	OR	A,A
0B2B96 ED52                A  2208    	SBC	HL,DE
0B2B98 FA 49 2B 0B         A  2209    	JP	M,L_28
                           A  2210    ;  184		return;		
                           A  2211    ;  185	}
                           A  2212    .LINE 185
                           A  2213    
0B2B9C DDF9                A  2214    	LD	SP,IX
0B2B9E DDE1                A  2215    	POP	IX
0B2BA0 C9                  A  2216    	RET	
                           A  2217    
                           A  2218    
                           A  2219    ;**************************** _vdp_bitmapSendDa
                           A  2220    ;Name                         Addr/Register   S
                           A  2221    ;_putch                              IMPORT  --
                           A  2222    ;n                                     IX-2    
                           A  2223    ;data                                 IX+12    
                           A  2224    ;height                                IX+9    
                           A  2225    ;width                                 IX+6    
                           A  2226    
                           A  2227    
                           A  2228    ; Stack Frame Size: 17 (bytes)
                           A  2229    ;       Spill Code: 0 (instruction)
                           A  2230    
                           A  2231    
                           A  2232    .ENDFUNC "vdp_bitmapSendDataSelected",185,"_vdp
                           A  2233    ;  186	
                           A  2234    ;  187	void vdp_bitmapSendData(UINT8 id, UINT1
                           A  2235    ;  188	{
0B2BA1                     A  2236    _vdp_bitmapSendData:
                           A  2237    .DEFINE "_vdp_bitmapSendData"
                           A  2238    
                           A  2239    .VALUE _vdp_bitmapSendData
                           A  2240    
                           A  2241    .CLASS 2
                           A  2242    
                           A  2243    .TYPE 65
                           A  2244    
                           A  2245    .ENDEF
                           A  2246    
                           A  2247    .BEGFUNC "vdp_bitmapSendData",188,"_vdp_bitmapS
                           A  2248    
                           A  2249    .LINE 188
                           A  2250    
                           A  2251    .DEFINE "id"
                           A  2252    
                           A  2253    .CLASS 65
                           A  2254    
                           A  2255    .VALUE 6
                           A  2256    
                           A  2257    .TYPE 12
                           A  2258    
                           A  2259    .ENDEF
                           A  2260    
                           A  2261    .DEFINE "width"
                           A  2262    
                           A  2263    .CLASS 65
                           A  2264    
                           A  2265    .VALUE 9
                           A  2266    
                           A  2267    .TYPE 13
                           A  2268    
                           A  2269    .ENDEF
                           A  2270    
                           A  2271    .DEFINE "height"
                           A  2272    
                           A  2273    .CLASS 65
                           A  2274    
                           A  2275    .VALUE 12
                           A  2276    
                           A  2277    .TYPE 13
                           A  2278    
                           A  2279    .ENDEF
                           A  2280    
                           A  2281    .DEFINE "data"
                           A  2282    
                           A  2283    .CLASS 65
                           A  2284    
                           A  2285    .VALUE 15
                           A  2286    
                           A  2287    .TYPE 47
                           A  2288    
                           A  2289    .ENDEF
                           A  2290    
0B2BA1 DDE5                A  2291    	PUSH	IX
0B2BA3 DD210000 00         A  2292    	LD	IX,0
0B2BA8 DD39                A  2293    	ADD	IX,SP
                           A  2294    ;  189		vdp_bitmapSelect(id);
                           A  2295    .LINE 189
                           A  2296    
0B2BAA DD4E06              A  2297    	LD	C,(IX+%6)
0B2BAD 0600                A  2298    	LD	B,%0
0B2BAF C5                  A  2299    	PUSH	BC
0B2BB0 CD CB 2A 0B         A  2300    	CALL	_vdp_bitmapSelect
0B2BB4 C1                  A  2301    	POP	BC
                           A  2302    ;  190		vdp_bitmapSendDataSelected(width, h
                           A  2303    .LINE 190
                           A  2304    
0B2BB5 DD070F              A  2305    	LD	BC,(IX+%F)
0B2BB8 C5                  A  2306    	PUSH	BC
0B2BB9 DD070C              A  2307    	LD	BC,(IX+%C)
0B2BBC C5                  A  2308    	PUSH	BC
0B2BBD DD0709              A  2309    	LD	BC,(IX+%9)
0B2BC0 C5                  A  2310    	PUSH	BC
0B2BC1 CD 04 2B 0B         A  2311    	CALL	_vdp_bitmapSendDataSelected
0B2BC5 C1                  A  2312    	POP	BC
0B2BC6 C1                  A  2313    	POP	BC
0B2BC7 C1                  A  2314    	POP	BC
                           A  2315    ;  191		return;	
                           A  2316    ;  192	}
                           A  2317    .LINE 192
                           A  2318    
0B2BC8 DDF9                A  2319    	LD	SP,IX
0B2BCA DDE1                A  2320    	POP	IX
0B2BCC C9                  A  2321    	RET	
                           A  2322    
                           A  2323    
                           A  2324    ;**************************** _vdp_bitmapSendDa
                           A  2325    ;Name                         Addr/Register   S
                           A  2326    ;_vdp_bitmapSendDataSelected         IMPORT  --
                           A  2327    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2328    ;data                                 IX+15    
                           A  2329    ;height                               IX+12    
                           A  2330    ;width                                 IX+9    
                           A  2331    ;id                                    IX+6    
                           A  2332    
                           A  2333    
                           A  2334    ; Stack Frame Size: 18 (bytes)
                           A  2335    ;       Spill Code: 0 (instruction)
                           A  2336    
                           A  2337    
                           A  2338    .ENDFUNC "vdp_bitmapSendData",192,"_vdp_bitmapS
                           A  2339    ;  193	
                           A  2340    ;  194	void vdp_bitmapDrawSelected(UINT16 x, U
                           A  2341    ;  195	{
0B2BCD                     A  2342    _vdp_bitmapDrawSelected:
                           A  2343    .DEFINE "_vdp_bitmapDrawSelected"
                           A  2344    
                           A  2345    .VALUE _vdp_bitmapDrawSelected
                           A  2346    
                           A  2347    .CLASS 2
                           A  2348    
                           A  2349    .TYPE 65
                           A  2350    
                           A  2351    .ENDEF
                           A  2352    
                           A  2353    .BEGFUNC "vdp_bitmapDrawSelected",195,"_vdp_bit
                           A  2354    
                           A  2355    .LINE 195
                           A  2356    
                           A  2357    .DEFINE "x"
                           A  2358    
                           A  2359    .CLASS 65
                           A  2360    
                           A  2361    .VALUE 6
                           A  2362    
                           A  2363    .TYPE 13
                           A  2364    
                           A  2365    .ENDEF
                           A  2366    
                           A  2367    .DEFINE "y"
                           A  2368    
                           A  2369    .CLASS 65
                           A  2370    
                           A  2371    .VALUE 9
                           A  2372    
                           A  2373    .TYPE 13
                           A  2374    
                           A  2375    .ENDEF
                           A  2376    
0B2BCD DDE5                A  2377    	PUSH	IX
0B2BCF DD210000 00         A  2378    	LD	IX,0
0B2BD4 DD39                A  2379    	ADD	IX,SP
                           A  2380    ;  196		putch(23); // vdu_sys
                           A  2381    .LINE 196
                           A  2382    
0B2BD6 01170000            A  2383    	LD	BC,23
0B2BDA C5                  A  2384    	PUSH	BC
0B2BDB CD 22 32 0B         A  2385    	CALL	_putch
0B2BDF C1                  A  2386    	POP	BC
                           A  2387    ;  197		putch(27); // sprite command
                           A  2388    .LINE 197
                           A  2389    
0B2BE0 011B0000            A  2390    	LD	BC,27
0B2BE4 C5                  A  2391    	PUSH	BC
0B2BE5 CD 22 32 0B         A  2392    	CALL	_putch
0B2BE9 C1                  A  2393    	POP	BC
                           A  2394    ;  198		putch(3);  // draw selected bitmap
                           A  2395    .LINE 198
                           A  2396    
0B2BEA 01030000            A  2397    	LD	BC,3
0B2BEE C5                  A  2398    	PUSH	BC
0B2BEF CD 22 32 0B         A  2399    	CALL	_putch
0B2BF3 C1                  A  2400    	POP	BC
                           A  2401    ;  199		
                           A  2402    ;  200		write16bit(x);
                           A  2403    .LINE 200
                           A  2404    
0B2BF4 DD0706              A  2405    	LD	BC,(IX+%6)
0B2BF7 C5                  A  2406    	PUSH	BC
0B2BF8 CD 52 26 0B         A  2407    	CALL	_write16bit
0B2BFC C1                  A  2408    	POP	BC
                           A  2409    ;  201		write16bit(y);
                           A  2410    .LINE 201
                           A  2411    
0B2BFD DD0709              A  2412    	LD	BC,(IX+%9)
0B2C00 C5                  A  2413    	PUSH	BC
0B2C01 CD 52 26 0B         A  2414    	CALL	_write16bit
0B2C05 C1                  A  2415    	POP	BC
                           A  2416    ;  202		
                           A  2417    ;  203		return;
                           A  2418    ;  204	}
                           A  2419    .LINE 204
                           A  2420    
0B2C06 DDF9                A  2421    	LD	SP,IX
0B2C08 DDE1                A  2422    	POP	IX
0B2C0A C9                  A  2423    	RET	
                           A  2424    
                           A  2425    
                           A  2426    ;**************************** _vdp_bitmapDrawSe
                           A  2427    ;Name                         Addr/Register   S
                           A  2428    ;_putch                              IMPORT  --
                           A  2429    ;y                                     IX+9    
                           A  2430    ;x                                     IX+6    
                           A  2431    
                           A  2432    
                           A  2433    ; Stack Frame Size: 12 (bytes)
                           A  2434    ;       Spill Code: 0 (instruction)
                           A  2435    
                           A  2436    
                           A  2437    .ENDFUNC "vdp_bitmapDrawSelected",204,"_vdp_bit
                           A  2438    ;  205	
                           A  2439    ;  206	void vdp_bitmapDraw(UINT8 id, UINT16 x,
                           A  2440    ;  207	{
0B2C0B                     A  2441    _vdp_bitmapDraw:
                           A  2442    .DEFINE "_vdp_bitmapDraw"
                           A  2443    
                           A  2444    .VALUE _vdp_bitmapDraw
                           A  2445    
                           A  2446    .CLASS 2
                           A  2447    
                           A  2448    .TYPE 65
                           A  2449    
                           A  2450    .ENDEF
                           A  2451    
                           A  2452    .BEGFUNC "vdp_bitmapDraw",207,"_vdp_bitmapDraw"
                           A  2453    
                           A  2454    .LINE 207
                           A  2455    
                           A  2456    .DEFINE "id"
                           A  2457    
                           A  2458    .CLASS 65
                           A  2459    
                           A  2460    .VALUE 6
                           A  2461    
                           A  2462    .TYPE 12
                           A  2463    
                           A  2464    .ENDEF
                           A  2465    
                           A  2466    .DEFINE "x"
                           A  2467    
                           A  2468    .CLASS 65
                           A  2469    
                           A  2470    .VALUE 9
                           A  2471    
                           A  2472    .TYPE 13
                           A  2473    
                           A  2474    .ENDEF
                           A  2475    
                           A  2476    .DEFINE "y"
                           A  2477    
                           A  2478    .CLASS 65
                           A  2479    
                           A  2480    .VALUE 12
                           A  2481    
                           A  2482    .TYPE 13
                           A  2483    
                           A  2484    .ENDEF
                           A  2485    
0B2C0B DDE5                A  2486    	PUSH	IX
0B2C0D DD210000 00         A  2487    	LD	IX,0
0B2C12 DD39                A  2488    	ADD	IX,SP
                           A  2489    ;  208		vdp_bitmapSelect(id);
                           A  2490    .LINE 208
                           A  2491    
0B2C14 DD4E06              A  2492    	LD	C,(IX+%6)
0B2C17 0600                A  2493    	LD	B,%0
0B2C19 C5                  A  2494    	PUSH	BC
0B2C1A CD CB 2A 0B         A  2495    	CALL	_vdp_bitmapSelect
0B2C1E C1                  A  2496    	POP	BC
                           A  2497    ;  209		vdp_bitmapDrawSelected(x,y);
                           A  2498    .LINE 209
                           A  2499    
0B2C1F DD070C              A  2500    	LD	BC,(IX+%C)
0B2C22 C5                  A  2501    	PUSH	BC
0B2C23 DD0709              A  2502    	LD	BC,(IX+%9)
0B2C26 C5                  A  2503    	PUSH	BC
0B2C27 CD CD 2B 0B         A  2504    	CALL	_vdp_bitmapDrawSelected
0B2C2B C1                  A  2505    	POP	BC
0B2C2C C1                  A  2506    	POP	BC
                           A  2507    ;  210		return;	
                           A  2508    ;  211	}
                           A  2509    .LINE 211
                           A  2510    
0B2C2D DDF9                A  2511    	LD	SP,IX
0B2C2F DDE1                A  2512    	POP	IX
0B2C31 C9                  A  2513    	RET	
                           A  2514    
                           A  2515    
                           A  2516    ;**************************** _vdp_bitmapDraw *
                           A  2517    ;Name                         Addr/Register   S
                           A  2518    ;_vdp_bitmapDrawSelected             IMPORT  --
                           A  2519    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2520    ;y                                    IX+12    
                           A  2521    ;x                                     IX+9    
                           A  2522    ;id                                    IX+6    
                           A  2523    
                           A  2524    
                           A  2525    ; Stack Frame Size: 15 (bytes)
                           A  2526    ;       Spill Code: 0 (instruction)
                           A  2527    
                           A  2528    
                           A  2529    .ENDFUNC "vdp_bitmapDraw",211,"_vdp_bitmapDraw"
                           A  2530    ;  212	
                           A  2531    ;  213	void vdp_bitmapCreateSolidColorSelected
                           A  2532    ;  214	{
0B2C32                     A  2533    _vdp_bitmapCreateSolidColorSelected:
                           A  2534    .DEFINE "_vdp_bitmapCreateSolidColorSelected"
                           A  2535    
                           A  2536    .VALUE _vdp_bitmapCreateSolidColorSelected
                           A  2537    
                           A  2538    .CLASS 2
                           A  2539    
                           A  2540    .TYPE 65
                           A  2541    
                           A  2542    .ENDEF
                           A  2543    
                           A  2544    .BEGFUNC "vdp_bitmapCreateSolidColorSelected",2
                           A  2545    
                           A  2546    .LINE 214
                           A  2547    
                           A  2548    .DEFINE "width"
                           A  2549    
                           A  2550    .CLASS 65
                           A  2551    
                           A  2552    .VALUE 6
                           A  2553    
                           A  2554    .TYPE 13
                           A  2555    
                           A  2556    .ENDEF
                           A  2557    
                           A  2558    .DEFINE "height"
                           A  2559    
                           A  2560    .CLASS 65
                           A  2561    
                           A  2562    .VALUE 9
                           A  2563    
                           A  2564    .TYPE 13
                           A  2565    
                           A  2566    .ENDEF
                           A  2567    
                           A  2568    .DEFINE "abgr"
                           A  2569    
                           A  2570    .CLASS 65
                           A  2571    
                           A  2572    .VALUE 12
                           A  2573    
                           A  2574    .TYPE 15
                           A  2575    
                           A  2576    .ENDEF
                           A  2577    
0B2C32 DDE5                A  2578    	PUSH	IX
0B2C34 DD210000 00         A  2579    	LD	IX,0
0B2C39 DD39                A  2580    	ADD	IX,SP
                           A  2581    ;  215		putch(23); // vdu_sys
                           A  2582    .LINE 215
                           A  2583    
0B2C3B 01170000            A  2584    	LD	BC,23
0B2C3F C5                  A  2585    	PUSH	BC
0B2C40 CD 22 32 0B         A  2586    	CALL	_putch
0B2C44 C1                  A  2587    	POP	BC
                           A  2588    ;  216		putch(27); // sprite command
                           A  2589    .LINE 216
                           A  2590    
0B2C45 011B0000            A  2591    	LD	BC,27
0B2C49 C5                  A  2592    	PUSH	BC
0B2C4A CD 22 32 0B         A  2593    	CALL	_putch
0B2C4E C1                  A  2594    	POP	BC
                           A  2595    ;  217		putch(2);  // define in single colo
                           A  2596    .LINE 217
                           A  2597    
0B2C4F 01020000            A  2598    	LD	BC,2
0B2C53 C5                  A  2599    	PUSH	BC
0B2C54 CD 22 32 0B         A  2600    	CALL	_putch
0B2C58 C1                  A  2601    	POP	BC
                           A  2602    ;  218		
                           A  2603    ;  219		write16bit(width);
                           A  2604    .LINE 219
                           A  2605    
0B2C59 DD0706              A  2606    	LD	BC,(IX+%6)
0B2C5C C5                  A  2607    	PUSH	BC
0B2C5D CD 52 26 0B         A  2608    	CALL	_write16bit
0B2C61 C1                  A  2609    	POP	BC
                           A  2610    ;  220		write16bit(height);
                           A  2611    .LINE 220
                           A  2612    
0B2C62 DD0709              A  2613    	LD	BC,(IX+%9)
0B2C65 C5                  A  2614    	PUSH	BC
0B2C66 CD 52 26 0B         A  2615    	CALL	_write16bit
0B2C6A C1                  A  2616    	POP	BC
                           A  2617    ;  221		write32bit(abgr);
                           A  2618    .LINE 221
                           A  2619    
0B2C6B DD4E0F              A  2620    	LD	C,(IX+%F)
0B2C6E 0600                A  2621    	LD	B,%0
0B2C70 C5                  A  2622    	PUSH	BC
0B2C71 DD070C              A  2623    	LD	BC,(IX+%C)
0B2C74 C5                  A  2624    	PUSH	BC
0B2C75 CD 8E 26 0B         A  2625    	CALL	_write32bit
0B2C79 C1                  A  2626    	POP	BC
0B2C7A C1                  A  2627    	POP	BC
                           A  2628    ;  222		return;		
                           A  2629    ;  223	}
                           A  2630    .LINE 223
                           A  2631    
0B2C7B DDF9                A  2632    	LD	SP,IX
0B2C7D DDE1                A  2633    	POP	IX
0B2C7F C9                  A  2634    	RET	
                           A  2635    
                           A  2636    
                           A  2637    ;**************************** _vdp_bitmapCreate
                           A  2638    ;Name                         Addr/Register   S
                           A  2639    ;_putch                              IMPORT  --
                           A  2640    ;abgr                                 IX+12    
                           A  2641    ;height                                IX+9    
                           A  2642    ;width                                 IX+6    
                           A  2643    
                           A  2644    
                           A  2645    ; Stack Frame Size: 18 (bytes)
                           A  2646    ;       Spill Code: 0 (instruction)
                           A  2647    
                           A  2648    
                           A  2649    .ENDFUNC "vdp_bitmapCreateSolidColorSelected",2
                           A  2650    ;  224	
                           A  2651    ;  225	void vdp_bitmapCreateSolidColor(UINT8 i
                           A  2652    ;  226	{
0B2C80                     A  2653    _vdp_bitmapCreateSolidColor:
                           A  2654    .DEFINE "_vdp_bitmapCreateSolidColor"
                           A  2655    
                           A  2656    .VALUE _vdp_bitmapCreateSolidColor
                           A  2657    
                           A  2658    .CLASS 2
                           A  2659    
                           A  2660    .TYPE 65
                           A  2661    
                           A  2662    .ENDEF
                           A  2663    
                           A  2664    .BEGFUNC "vdp_bitmapCreateSolidColor",226,"_vdp
                           A  2665    
                           A  2666    .LINE 226
                           A  2667    
                           A  2668    .DEFINE "id"
                           A  2669    
                           A  2670    .CLASS 65
                           A  2671    
                           A  2672    .VALUE 6
                           A  2673    
                           A  2674    .TYPE 12
                           A  2675    
                           A  2676    .ENDEF
                           A  2677    
                           A  2678    .DEFINE "width"
                           A  2679    
                           A  2680    .CLASS 65
                           A  2681    
                           A  2682    .VALUE 9
                           A  2683    
                           A  2684    .TYPE 13
                           A  2685    
                           A  2686    .ENDEF
                           A  2687    
                           A  2688    .DEFINE "height"
                           A  2689    
                           A  2690    .CLASS 65
                           A  2691    
                           A  2692    .VALUE 12
                           A  2693    
                           A  2694    .TYPE 13
                           A  2695    
                           A  2696    .ENDEF
                           A  2697    
                           A  2698    .DEFINE "abgr"
                           A  2699    
                           A  2700    .CLASS 65
                           A  2701    
                           A  2702    .VALUE 15
                           A  2703    
                           A  2704    .TYPE 15
                           A  2705    
                           A  2706    .ENDEF
                           A  2707    
0B2C80 DDE5                A  2708    	PUSH	IX
0B2C82 DD210000 00         A  2709    	LD	IX,0
0B2C87 DD39                A  2710    	ADD	IX,SP
                           A  2711    ;  227		vdp_bitmapSelect(id);
                           A  2712    .LINE 227
                           A  2713    
0B2C89 DD4E06              A  2714    	LD	C,(IX+%6)
0B2C8C 0600                A  2715    	LD	B,%0
0B2C8E C5                  A  2716    	PUSH	BC
0B2C8F CD CB 2A 0B         A  2717    	CALL	_vdp_bitmapSelect
0B2C93 C1                  A  2718    	POP	BC
                           A  2719    ;  228		vdp_bitmapCreateSolidColorSelected(
                           A  2720    .LINE 228
                           A  2721    
0B2C94 DD4E12              A  2722    	LD	C,(IX+%12)
0B2C97 0600                A  2723    	LD	B,%0
0B2C99 C5                  A  2724    	PUSH	BC
0B2C9A DD070F              A  2725    	LD	BC,(IX+%F)
0B2C9D C5                  A  2726    	PUSH	BC
0B2C9E DD070C              A  2727    	LD	BC,(IX+%C)
0B2CA1 C5                  A  2728    	PUSH	BC
0B2CA2 DD0709              A  2729    	LD	BC,(IX+%9)
0B2CA5 C5                  A  2730    	PUSH	BC
0B2CA6 CD 32 2C 0B         A  2731    	CALL	_vdp_bitmapCreateSolidColorSelected
0B2CAA C1                  A  2732    	POP	BC
0B2CAB C1                  A  2733    	POP	BC
0B2CAC C1                  A  2734    	POP	BC
0B2CAD C1                  A  2735    	POP	BC
                           A  2736    ;  229		return;	
                           A  2737    ;  230	}
                           A  2738    .LINE 230
                           A  2739    
0B2CAE DDF9                A  2740    	LD	SP,IX
0B2CB0 DDE1                A  2741    	POP	IX
0B2CB2 C9                  A  2742    	RET	
                           A  2743    
                           A  2744    
                           A  2745    ;**************************** _vdp_bitmapCreate
                           A  2746    ;Name                         Addr/Register   S
                           A  2747    ;_vdp_bitmapCreateSolidColorSelected      IMPOR
                           A  2748    ;_vdp_bitmapSelect                   IMPORT  --
                           A  2749    ;abgr                                 IX+15    
                           A  2750    ;height                               IX+12    
                           A  2751    ;width                                 IX+9    
                           A  2752    ;id                                    IX+6    
                           A  2753    
                           A  2754    
                           A  2755    ; Stack Frame Size: 21 (bytes)
                           A  2756    ;       Spill Code: 0 (instruction)
                           A  2757    
                           A  2758    
                           A  2759    .ENDFUNC "vdp_bitmapCreateSolidColor",230,"_vdp
                           A  2760    ;  231	
                           A  2761    ;  232	// Sprite VDP functions
                           A  2762    ;  233	void vdp_spriteSelect(UINT8 id)
                           A  2763    ;  234	{
0B2CB3                     A  2764    _vdp_spriteSelect:
                           A  2765    .DEFINE "_vdp_spriteSelect"
                           A  2766    
                           A  2767    .VALUE _vdp_spriteSelect
                           A  2768    
                           A  2769    .CLASS 2
                           A  2770    
                           A  2771    .TYPE 65
                           A  2772    
                           A  2773    .ENDEF
                           A  2774    
                           A  2775    .BEGFUNC "vdp_spriteSelect",234,"_vdp_spriteSel
                           A  2776    
                           A  2777    .LINE 234
                           A  2778    
                           A  2779    .DEFINE "id"
                           A  2780    
                           A  2781    .CLASS 65
                           A  2782    
                           A  2783    .VALUE 6
                           A  2784    
                           A  2785    .TYPE 12
                           A  2786    
                           A  2787    .ENDEF
                           A  2788    
0B2CB3 DDE5                A  2789    	PUSH	IX
0B2CB5 DD210000 00         A  2790    	LD	IX,0
0B2CBA DD39                A  2791    	ADD	IX,SP
                           A  2792    ;  235		putch(23); // vdu_sys
                           A  2793    .LINE 235
                           A  2794    
0B2CBC 01170000            A  2795    	LD	BC,23
0B2CC0 C5                  A  2796    	PUSH	BC
0B2CC1 CD 22 32 0B         A  2797    	CALL	_putch
0B2CC5 C1                  A  2798    	POP	BC
                           A  2799    ;  236		putch(27); // sprite command
                           A  2800    .LINE 236
                           A  2801    
0B2CC6 011B0000            A  2802    	LD	BC,27
0B2CCA C5                  A  2803    	PUSH	BC
0B2CCB CD 22 32 0B         A  2804    	CALL	_putch
0B2CCF C1                  A  2805    	POP	BC
                           A  2806    ;  237		putch(4);  // select sprite
                           A  2807    .LINE 237
                           A  2808    
0B2CD0 01040000            A  2809    	LD	BC,4
0B2CD4 C5                  A  2810    	PUSH	BC
0B2CD5 CD 22 32 0B         A  2811    	CALL	_putch
0B2CD9 C1                  A  2812    	POP	BC
                           A  2813    ;  238		putch(id);
                           A  2814    .LINE 238
                           A  2815    
0B2CDA DD7E06              A  2816    	LD	A,(IX+%6)
0B2CDD B7ED62              A  2817    	UEXT	HL
0B2CE0 6F                  A  2818    	LD	L,A
0B2CE1 E5                  A  2819    	PUSH	HL
0B2CE2 CD 22 32 0B         A  2820    	CALL	_putch
0B2CE6 C1                  A  2821    	POP	BC
                           A  2822    ;  239		return;			
                           A  2823    ;  240	}
                           A  2824    .LINE 240
                           A  2825    
0B2CE7 DDF9                A  2826    	LD	SP,IX
0B2CE9 DDE1                A  2827    	POP	IX
0B2CEB C9                  A  2828    	RET	
                           A  2829    
                           A  2830    
                           A  2831    ;**************************** _vdp_spriteSelect
                           A  2832    ;Name                         Addr/Register   S
                           A  2833    ;_putch                              IMPORT  --
                           A  2834    ;id                                    IX+6    
                           A  2835    
                           A  2836    
                           A  2837    ; Stack Frame Size: 9 (bytes)
                           A  2838    ;       Spill Code: 0 (instruction)
                           A  2839    
                           A  2840    
                           A  2841    .ENDFUNC "vdp_spriteSelect",240,"_vdp_spriteSel
                           A  2842    ;  241	
                           A  2843    ;  242	void vdp_spriteClearFramesSelected(void
                           A  2844    ;  243	{
0B2CEC                     A  2845    _vdp_spriteClearFramesSelected:
                           A  2846    .DEFINE "_vdp_spriteClearFramesSelected"
                           A  2847    
                           A  2848    .VALUE _vdp_spriteClearFramesSelected
                           A  2849    
                           A  2850    .CLASS 2
                           A  2851    
                           A  2852    .TYPE 65
                           A  2853    
                           A  2854    .ENDEF
                           A  2855    
                           A  2856    .BEGFUNC "vdp_spriteClearFramesSelected",243,"_
                           A  2857    
0B2CEC DDE5                A  2858    	PUSH	IX
0B2CEE DD210000 00         A  2859    	LD	IX,0
0B2CF3 DD39                A  2860    	ADD	IX,SP
                           A  2861    ;  244		putch(23); // vdu_sys
                           A  2862    .LINE 244
                           A  2863    
0B2CF5 01170000            A  2864    	LD	BC,23
0B2CF9 C5                  A  2865    	PUSH	BC
0B2CFA CD 22 32 0B         A  2866    	CALL	_putch
0B2CFE C1                  A  2867    	POP	BC
                           A  2868    ;  245		putch(27); // sprite command
                           A  2869    .LINE 245
                           A  2870    
0B2CFF 011B0000            A  2871    	LD	BC,27
0B2D03 C5                  A  2872    	PUSH	BC
0B2D04 CD 22 32 0B         A  2873    	CALL	_putch
0B2D08 C1                  A  2874    	POP	BC
                           A  2875    ;  246		putch(5);  // clear frames
                           A  2876    .LINE 246
                           A  2877    
0B2D09 01050000            A  2878    	LD	BC,5
0B2D0D C5                  A  2879    	PUSH	BC
0B2D0E CD 22 32 0B         A  2880    	CALL	_putch
0B2D12 C1                  A  2881    	POP	BC
                           A  2882    ;  247		return;				
                           A  2883    ;  248	}
                           A  2884    .LINE 248
                           A  2885    
0B2D13 DDF9                A  2886    	LD	SP,IX
0B2D15 DDE1                A  2887    	POP	IX
0B2D17 C9                  A  2888    	RET	
                           A  2889    
                           A  2890    
                           A  2891    ;**************************** _vdp_spriteClearF
                           A  2892    ;Name                         Addr/Register   S
                           A  2893    ;_putch                              IMPORT  --
                           A  2894    
                           A  2895    
                           A  2896    ; Stack Frame Size: 6 (bytes)
                           A  2897    ;       Spill Code: 0 (instruction)
                           A  2898    
                           A  2899    
                           A  2900    .ENDFUNC "vdp_spriteClearFramesSelected",248,"_
                           A  2901    ;  249	
                           A  2902    ;  250	void vdp_spriteClearFrames(UINT8 bitmap
                           A  2903    ;  251	{
0B2D18                     A  2904    _vdp_spriteClearFrames:
                           A  2905    .DEFINE "_vdp_spriteClearFrames"
                           A  2906    
                           A  2907    .VALUE _vdp_spriteClearFrames
                           A  2908    
                           A  2909    .CLASS 2
                           A  2910    
                           A  2911    .TYPE 65
                           A  2912    
                           A  2913    .ENDEF
                           A  2914    
                           A  2915    .BEGFUNC "vdp_spriteClearFrames",251,"_vdp_spri
                           A  2916    
                           A  2917    .LINE 251
                           A  2918    
                           A  2919    .DEFINE "bitmapid"
                           A  2920    
                           A  2921    .CLASS 65
                           A  2922    
                           A  2923    .VALUE 6
                           A  2924    
                           A  2925    .TYPE 12
                           A  2926    
                           A  2927    .ENDEF
                           A  2928    
0B2D18 DDE5                A  2929    	PUSH	IX
0B2D1A DD210000 00         A  2930    	LD	IX,0
0B2D1F DD39                A  2931    	ADD	IX,SP
                           A  2932    ;  252		vdp_spriteSelect(bitmapid);
                           A  2933    .LINE 252
                           A  2934    
0B2D21 DD4E06              A  2935    	LD	C,(IX+%6)
0B2D24 0600                A  2936    	LD	B,%0
0B2D26 C5                  A  2937    	PUSH	BC
0B2D27 CD B3 2C 0B         A  2938    	CALL	_vdp_spriteSelect
0B2D2B C1                  A  2939    	POP	BC
                           A  2940    ;  253		vdp_spriteClearFramesSelected();
                           A  2941    .LINE 253
                           A  2942    
0B2D2C CD EC 2C 0B         A  2943    	CALL	_vdp_spriteClearFramesSelected
                           A  2944    ;  254		return;				
                           A  2945    ;  255	}
                           A  2946    .LINE 255
                           A  2947    
0B2D30 DDF9                A  2948    	LD	SP,IX
0B2D32 DDE1                A  2949    	POP	IX
0B2D34 C9                  A  2950    	RET	
                           A  2951    
                           A  2952    
                           A  2953    ;**************************** _vdp_spriteClearF
                           A  2954    ;Name                         Addr/Register   S
                           A  2955    ;_vdp_spriteClearFramesSelected      IMPORT  --
                           A  2956    ;_vdp_spriteSelect                   IMPORT  --
                           A  2957    ;bitmapid                              IX+6    
                           A  2958    
                           A  2959    
                           A  2960    ; Stack Frame Size: 9 (bytes)
                           A  2961    ;       Spill Code: 0 (instruction)
                           A  2962    
                           A  2963    
                           A  2964    .ENDFUNC "vdp_spriteClearFrames",255,"_vdp_spri
                           A  2965    ;  256	
                           A  2966    ;  257	void vdp_spriteAddFrameSelected(UINT8 b
                           A  2967    ;  258	{
0B2D35                     A  2968    _vdp_spriteAddFrameSelected:
                           A  2969    .DEFINE "_vdp_spriteAddFrameSelected"
                           A  2970    
                           A  2971    .VALUE _vdp_spriteAddFrameSelected
                           A  2972    
                           A  2973    .CLASS 2
                           A  2974    
                           A  2975    .TYPE 65
                           A  2976    
                           A  2977    .ENDEF
                           A  2978    
                           A  2979    .BEGFUNC "vdp_spriteAddFrameSelected",258,"_vdp
                           A  2980    
                           A  2981    .LINE 258
                           A  2982    
                           A  2983    .DEFINE "bitmapid"
                           A  2984    
                           A  2985    .CLASS 65
                           A  2986    
                           A  2987    .VALUE 6
                           A  2988    
                           A  2989    .TYPE 12
                           A  2990    
                           A  2991    .ENDEF
                           A  2992    
0B2D35 DDE5                A  2993    	PUSH	IX
0B2D37 DD210000 00         A  2994    	LD	IX,0
0B2D3C DD39                A  2995    	ADD	IX,SP
                           A  2996    ;  259		putch(23); // vdu_sys
                           A  2997    .LINE 259
                           A  2998    
0B2D3E 01170000            A  2999    	LD	BC,23
0B2D42 C5                  A  3000    	PUSH	BC
0B2D43 CD 22 32 0B         A  3001    	CALL	_putch
0B2D47 C1                  A  3002    	POP	BC
                           A  3003    ;  260		putch(27); // sprite command
                           A  3004    .LINE 260
                           A  3005    
0B2D48 011B0000            A  3006    	LD	BC,27
0B2D4C C5                  A  3007    	PUSH	BC
0B2D4D CD 22 32 0B         A  3008    	CALL	_putch
0B2D51 C1                  A  3009    	POP	BC
                           A  3010    ;  261		putch(6);  // add frame
                           A  3011    .LINE 261
                           A  3012    
0B2D52 01060000            A  3013    	LD	BC,6
0B2D56 C5                  A  3014    	PUSH	BC
0B2D57 CD 22 32 0B         A  3015    	CALL	_putch
0B2D5B C1                  A  3016    	POP	BC
                           A  3017    ;  262		putch(bitmapid);
                           A  3018    .LINE 262
                           A  3019    
0B2D5C DD7E06              A  3020    	LD	A,(IX+%6)
0B2D5F B7ED62              A  3021    	UEXT	HL
0B2D62 6F                  A  3022    	LD	L,A
0B2D63 E5                  A  3023    	PUSH	HL
0B2D64 CD 22 32 0B         A  3024    	CALL	_putch
0B2D68 C1                  A  3025    	POP	BC
                           A  3026    ;  263		return;	
                           A  3027    ;  264	}
                           A  3028    .LINE 264
                           A  3029    
0B2D69 DDF9                A  3030    	LD	SP,IX
0B2D6B DDE1                A  3031    	POP	IX
0B2D6D C9                  A  3032    	RET	
                           A  3033    
                           A  3034    
                           A  3035    ;**************************** _vdp_spriteAddFra
                           A  3036    ;Name                         Addr/Register   S
                           A  3037    ;_putch                              IMPORT  --
                           A  3038    ;bitmapid                              IX+6    
                           A  3039    
                           A  3040    
                           A  3041    ; Stack Frame Size: 9 (bytes)
                           A  3042    ;       Spill Code: 0 (instruction)
                           A  3043    
                           A  3044    
                           A  3045    .ENDFUNC "vdp_spriteAddFrameSelected",264,"_vdp
                           A  3046    ;  265	
                           A  3047    ;  266	void vdp_spriteAddFrame(UINT8 id, UINT8
                           A  3048    ;  267	{
0B2D6E                     A  3049    _vdp_spriteAddFrame:
                           A  3050    .DEFINE "_vdp_spriteAddFrame"
                           A  3051    
                           A  3052    .VALUE _vdp_spriteAddFrame
                           A  3053    
                           A  3054    .CLASS 2
                           A  3055    
                           A  3056    .TYPE 65
                           A  3057    
                           A  3058    .ENDEF
                           A  3059    
                           A  3060    .BEGFUNC "vdp_spriteAddFrame",267,"_vdp_spriteA
                           A  3061    
                           A  3062    .LINE 267
                           A  3063    
                           A  3064    .DEFINE "id"
                           A  3065    
                           A  3066    .CLASS 65
                           A  3067    
                           A  3068    .VALUE 6
                           A  3069    
                           A  3070    .TYPE 12
                           A  3071    
                           A  3072    .ENDEF
                           A  3073    
                           A  3074    .DEFINE "bitmapid"
                           A  3075    
                           A  3076    .CLASS 65
                           A  3077    
                           A  3078    .VALUE 9
                           A  3079    
                           A  3080    .TYPE 12
                           A  3081    
                           A  3082    .ENDEF
                           A  3083    
0B2D6E DDE5                A  3084    	PUSH	IX
0B2D70 DD210000 00         A  3085    	LD	IX,0
0B2D75 DD39                A  3086    	ADD	IX,SP
                           A  3087    ;  268		vdp_spriteSelect(id);
                           A  3088    .LINE 268
                           A  3089    
0B2D77 DD4E06              A  3090    	LD	C,(IX+%6)
0B2D7A 0600                A  3091    	LD	B,%0
0B2D7C C5                  A  3092    	PUSH	BC
0B2D7D CD B3 2C 0B         A  3093    	CALL	_vdp_spriteSelect
0B2D81 C1                  A  3094    	POP	BC
                           A  3095    ;  269		vdp_spriteAddFrameSelected(bitmapid
                           A  3096    .LINE 269
                           A  3097    
0B2D82 DD4E09              A  3098    	LD	C,(IX+%9)
0B2D85 0600                A  3099    	LD	B,%0
0B2D87 C5                  A  3100    	PUSH	BC
0B2D88 CD 35 2D 0B         A  3101    	CALL	_vdp_spriteAddFrameSelected
0B2D8C C1                  A  3102    	POP	BC
                           A  3103    ;  270		return;	
                           A  3104    ;  271	}
                           A  3105    .LINE 271
                           A  3106    
0B2D8D DDF9                A  3107    	LD	SP,IX
0B2D8F DDE1                A  3108    	POP	IX
0B2D91 C9                  A  3109    	RET	
                           A  3110    
                           A  3111    
                           A  3112    ;**************************** _vdp_spriteAddFra
                           A  3113    ;Name                         Addr/Register   S
                           A  3114    ;_vdp_spriteAddFrameSelected         IMPORT  --
                           A  3115    ;_vdp_spriteSelect                   IMPORT  --
                           A  3116    ;bitmapid                              IX+9    
                           A  3117    ;id                                    IX+6    
                           A  3118    
                           A  3119    
                           A  3120    ; Stack Frame Size: 12 (bytes)
                           A  3121    ;       Spill Code: 0 (instruction)
                           A  3122    
                           A  3123    
                           A  3124    .ENDFUNC "vdp_spriteAddFrame",271,"_vdp_spriteA
                           A  3125    ;  272	
                           A  3126    ;  273	void vdp_spriteNextFrameSelected(void)
                           A  3127    ;  274	{
0B2D92                     A  3128    _vdp_spriteNextFrameSelected:
                           A  3129    .DEFINE "_vdp_spriteNextFrameSelected"
                           A  3130    
                           A  3131    .VALUE _vdp_spriteNextFrameSelected
                           A  3132    
                           A  3133    .CLASS 2
                           A  3134    
                           A  3135    .TYPE 65
                           A  3136    
                           A  3137    .ENDEF
                           A  3138    
                           A  3139    .BEGFUNC "vdp_spriteNextFrameSelected",274,"_vd
                           A  3140    
0B2D92 DDE5                A  3141    	PUSH	IX
0B2D94 DD210000 00         A  3142    	LD	IX,0
0B2D99 DD39                A  3143    	ADD	IX,SP
                           A  3144    ;  275		putch(23); // vdu_sys
                           A  3145    .LINE 275
                           A  3146    
0B2D9B 01170000            A  3147    	LD	BC,23
0B2D9F C5                  A  3148    	PUSH	BC
0B2DA0 CD 22 32 0B         A  3149    	CALL	_putch
0B2DA4 C1                  A  3150    	POP	BC
                           A  3151    ;  276		putch(27); // sprite command
                           A  3152    .LINE 276
                           A  3153    
0B2DA5 011B0000            A  3154    	LD	BC,27
0B2DA9 C5                  A  3155    	PUSH	BC
0B2DAA CD 22 32 0B         A  3156    	CALL	_putch
0B2DAE C1                  A  3157    	POP	BC
                           A  3158    ;  277		putch(8);  // next frame
                           A  3159    .LINE 277
                           A  3160    
0B2DAF 01080000            A  3161    	LD	BC,8
0B2DB3 C5                  A  3162    	PUSH	BC
0B2DB4 CD 22 32 0B         A  3163    	CALL	_putch
0B2DB8 C1                  A  3164    	POP	BC
                           A  3165    ;  278		return;			
                           A  3166    ;  279	}
                           A  3167    .LINE 279
                           A  3168    
0B2DB9 DDF9                A  3169    	LD	SP,IX
0B2DBB DDE1                A  3170    	POP	IX
0B2DBD C9                  A  3171    	RET	
                           A  3172    
                           A  3173    
                           A  3174    ;**************************** _vdp_spriteNextFr
                           A  3175    ;Name                         Addr/Register   S
                           A  3176    ;_putch                              IMPORT  --
                           A  3177    
                           A  3178    
                           A  3179    ; Stack Frame Size: 6 (bytes)
                           A  3180    ;       Spill Code: 0 (instruction)
                           A  3181    
                           A  3182    
                           A  3183    .ENDFUNC "vdp_spriteNextFrameSelected",279,"_vd
                           A  3184    ;  280	
                           A  3185    ;  281	void vdp_spriteNextFrame(UINT8 id)
                           A  3186    ;  282	{
0B2DBE                     A  3187    _vdp_spriteNextFrame:
                           A  3188    .DEFINE "_vdp_spriteNextFrame"
                           A  3189    
                           A  3190    .VALUE _vdp_spriteNextFrame
                           A  3191    
                           A  3192    .CLASS 2
                           A  3193    
                           A  3194    .TYPE 65
                           A  3195    
                           A  3196    .ENDEF
                           A  3197    
                           A  3198    .BEGFUNC "vdp_spriteNextFrame",282,"_vdp_sprite
                           A  3199    
                           A  3200    .LINE 282
                           A  3201    
                           A  3202    .DEFINE "id"
                           A  3203    
                           A  3204    .CLASS 65
                           A  3205    
                           A  3206    .VALUE 6
                           A  3207    
                           A  3208    .TYPE 12
                           A  3209    
                           A  3210    .ENDEF
                           A  3211    
0B2DBE DDE5                A  3212    	PUSH	IX
0B2DC0 DD210000 00         A  3213    	LD	IX,0
0B2DC5 DD39                A  3214    	ADD	IX,SP
                           A  3215    ;  283		vdp_spriteSelect(id);
                           A  3216    .LINE 283
                           A  3217    
0B2DC7 DD4E06              A  3218    	LD	C,(IX+%6)
0B2DCA 0600                A  3219    	LD	B,%0
0B2DCC C5                  A  3220    	PUSH	BC
0B2DCD CD B3 2C 0B         A  3221    	CALL	_vdp_spriteSelect
0B2DD1 C1                  A  3222    	POP	BC
                           A  3223    ;  284		vdp_spriteNextFrameSelected();
                           A  3224    .LINE 284
                           A  3225    
0B2DD2 CD 92 2D 0B         A  3226    	CALL	_vdp_spriteNextFrameSelected
                           A  3227    ;  285		return;
                           A  3228    ;  286	}
                           A  3229    .LINE 286
                           A  3230    
0B2DD6 DDF9                A  3231    	LD	SP,IX
0B2DD8 DDE1                A  3232    	POP	IX
0B2DDA C9                  A  3233    	RET	
                           A  3234    
                           A  3235    
                           A  3236    ;**************************** _vdp_spriteNextFr
                           A  3237    ;Name                         Addr/Register   S
                           A  3238    ;_vdp_spriteNextFrameSelected        IMPORT  --
                           A  3239    ;_vdp_spriteSelect                   IMPORT  --
                           A  3240    ;id                                    IX+6    
                           A  3241    
                           A  3242    
                           A  3243    ; Stack Frame Size: 9 (bytes)
                           A  3244    ;       Spill Code: 0 (instruction)
                           A  3245    
                           A  3246    
                           A  3247    .ENDFUNC "vdp_spriteNextFrame",286,"_vdp_sprite
                           A  3248    ;  287	
                           A  3249    ;  288	void vdp_spritePreviousFrameSelected(vo
                           A  3250    ;  289	{
0B2DDB                     A  3251    _vdp_spritePreviousFrameSelected:
                           A  3252    .DEFINE "_vdp_spritePreviousFrameSelected"
                           A  3253    
                           A  3254    .VALUE _vdp_spritePreviousFrameSelected
                           A  3255    
                           A  3256    .CLASS 2
                           A  3257    
                           A  3258    .TYPE 65
                           A  3259    
                           A  3260    .ENDEF
                           A  3261    
                           A  3262    .BEGFUNC "vdp_spritePreviousFrameSelected",289,
                           A  3263    
0B2DDB DDE5                A  3264    	PUSH	IX
0B2DDD DD210000 00         A  3265    	LD	IX,0
0B2DE2 DD39                A  3266    	ADD	IX,SP
                           A  3267    ;  290		putch(23); // vdu_sys
                           A  3268    .LINE 290
                           A  3269    
0B2DE4 01170000            A  3270    	LD	BC,23
0B2DE8 C5                  A  3271    	PUSH	BC
0B2DE9 CD 22 32 0B         A  3272    	CALL	_putch
0B2DED C1                  A  3273    	POP	BC
                           A  3274    ;  291		putch(27); // sprite command
                           A  3275    .LINE 291
                           A  3276    
0B2DEE 011B0000            A  3277    	LD	BC,27
0B2DF2 C5                  A  3278    	PUSH	BC
0B2DF3 CD 22 32 0B         A  3279    	CALL	_putch
0B2DF7 C1                  A  3280    	POP	BC
                           A  3281    ;  292		putch(9); // previous frame
                           A  3282    .LINE 292
                           A  3283    
0B2DF8 01090000            A  3284    	LD	BC,9
0B2DFC C5                  A  3285    	PUSH	BC
0B2DFD CD 22 32 0B         A  3286    	CALL	_putch
0B2E01 C1                  A  3287    	POP	BC
                           A  3288    ;  293		return;	
                           A  3289    ;  294	}
                           A  3290    .LINE 294
                           A  3291    
0B2E02 DDF9                A  3292    	LD	SP,IX
0B2E04 DDE1                A  3293    	POP	IX
0B2E06 C9                  A  3294    	RET	
                           A  3295    
                           A  3296    
                           A  3297    ;**************************** _vdp_spritePrevio
                           A  3298    ;Name                         Addr/Register   S
                           A  3299    ;_putch                              IMPORT  --
                           A  3300    
                           A  3301    
                           A  3302    ; Stack Frame Size: 6 (bytes)
                           A  3303    ;       Spill Code: 0 (instruction)
                           A  3304    
                           A  3305    
                           A  3306    .ENDFUNC "vdp_spritePreviousFrameSelected",294,
                           A  3307    ;  295	
                           A  3308    ;  296	void vdp_spritePreviousFrame(UINT8 id)
                           A  3309    ;  297	{
0B2E07                     A  3310    _vdp_spritePreviousFrame:
                           A  3311    .DEFINE "_vdp_spritePreviousFrame"
                           A  3312    
                           A  3313    .VALUE _vdp_spritePreviousFrame
                           A  3314    
                           A  3315    .CLASS 2
                           A  3316    
                           A  3317    .TYPE 65
                           A  3318    
                           A  3319    .ENDEF
                           A  3320    
                           A  3321    .BEGFUNC "vdp_spritePreviousFrame",297,"_vdp_sp
                           A  3322    
                           A  3323    .LINE 297
                           A  3324    
                           A  3325    .DEFINE "id"
                           A  3326    
                           A  3327    .CLASS 65
                           A  3328    
                           A  3329    .VALUE 6
                           A  3330    
                           A  3331    .TYPE 12
                           A  3332    
                           A  3333    .ENDEF
                           A  3334    
0B2E07 DDE5                A  3335    	PUSH	IX
0B2E09 DD210000 00         A  3336    	LD	IX,0
0B2E0E DD39                A  3337    	ADD	IX,SP
                           A  3338    ;  298		vdp_spriteSelect(id);
                           A  3339    .LINE 298
                           A  3340    
0B2E10 DD4E06              A  3341    	LD	C,(IX+%6)
0B2E13 0600                A  3342    	LD	B,%0
0B2E15 C5                  A  3343    	PUSH	BC
0B2E16 CD B3 2C 0B         A  3344    	CALL	_vdp_spriteSelect
0B2E1A C1                  A  3345    	POP	BC
                           A  3346    ;  299		vdp_spritePreviousFrameSelected();
                           A  3347    .LINE 299
                           A  3348    
0B2E1B CD DB 2D 0B         A  3349    	CALL	_vdp_spritePreviousFrameSelected
                           A  3350    ;  300		return;
                           A  3351    ;  301	}
                           A  3352    .LINE 301
                           A  3353    
0B2E1F DDF9                A  3354    	LD	SP,IX
0B2E21 DDE1                A  3355    	POP	IX
0B2E23 C9                  A  3356    	RET	
                           A  3357    
                           A  3358    
                           A  3359    ;**************************** _vdp_spritePrevio
                           A  3360    ;Name                         Addr/Register   S
                           A  3361    ;_vdp_spritePreviousFrameSelected      IMPORT  
                           A  3362    ;_vdp_spriteSelect                   IMPORT  --
                           A  3363    ;id                                    IX+6    
                           A  3364    
                           A  3365    
                           A  3366    ; Stack Frame Size: 9 (bytes)
                           A  3367    ;       Spill Code: 0 (instruction)
                           A  3368    
                           A  3369    
                           A  3370    .ENDFUNC "vdp_spritePreviousFrame",301,"_vdp_sp
                           A  3371    ;  302	
                           A  3372    ;  303	void vdp_spriteSetFrameSelected(UINT8 f
                           A  3373    ;  304	{
0B2E24                     A  3374    _vdp_spriteSetFrameSelected:
                           A  3375    .DEFINE "_vdp_spriteSetFrameSelected"
                           A  3376    
                           A  3377    .VALUE _vdp_spriteSetFrameSelected
                           A  3378    
                           A  3379    .CLASS 2
                           A  3380    
                           A  3381    .TYPE 65
                           A  3382    
                           A  3383    .ENDEF
                           A  3384    
                           A  3385    .BEGFUNC "vdp_spriteSetFrameSelected",304,"_vdp
                           A  3386    
                           A  3387    .LINE 304
                           A  3388    
                           A  3389    .DEFINE "framenumber"
                           A  3390    
                           A  3391    .CLASS 65
                           A  3392    
                           A  3393    .VALUE 6
                           A  3394    
                           A  3395    .TYPE 12
                           A  3396    
                           A  3397    .ENDEF
                           A  3398    
0B2E24 DDE5                A  3399    	PUSH	IX
0B2E26 DD210000 00         A  3400    	LD	IX,0
0B2E2B DD39                A  3401    	ADD	IX,SP
                           A  3402    ;  305		putch(23); // vdu_sys
                           A  3403    .LINE 305
                           A  3404    
0B2E2D 01170000            A  3405    	LD	BC,23
0B2E31 C5                  A  3406    	PUSH	BC
0B2E32 CD 22 32 0B         A  3407    	CALL	_putch
0B2E36 C1                  A  3408    	POP	BC
                           A  3409    ;  306		putch(27); // sprite command
                           A  3410    .LINE 306
                           A  3411    
0B2E37 011B0000            A  3412    	LD	BC,27
0B2E3B C5                  A  3413    	PUSH	BC
0B2E3C CD 22 32 0B         A  3414    	CALL	_putch
0B2E40 C1                  A  3415    	POP	BC
                           A  3416    ;  307		putch(10); // set current frame
                           A  3417    .LINE 307
                           A  3418    
0B2E41 010A0000            A  3419    	LD	BC,10
0B2E45 C5                  A  3420    	PUSH	BC
0B2E46 CD 22 32 0B         A  3421    	CALL	_putch
0B2E4A C1                  A  3422    	POP	BC
                           A  3423    ;  308		putch(framenumber);
                           A  3424    .LINE 308
                           A  3425    
0B2E4B DD7E06              A  3426    	LD	A,(IX+%6)
0B2E4E B7ED62              A  3427    	UEXT	HL
0B2E51 6F                  A  3428    	LD	L,A
0B2E52 E5                  A  3429    	PUSH	HL
0B2E53 CD 22 32 0B         A  3430    	CALL	_putch
0B2E57 C1                  A  3431    	POP	BC
                           A  3432    ;  309		return;	
                           A  3433    ;  310	}
                           A  3434    .LINE 310
                           A  3435    
0B2E58 DDF9                A  3436    	LD	SP,IX
0B2E5A DDE1                A  3437    	POP	IX
0B2E5C C9                  A  3438    	RET	
                           A  3439    
                           A  3440    
                           A  3441    ;**************************** _vdp_spriteSetFra
                           A  3442    ;Name                         Addr/Register   S
                           A  3443    ;_putch                              IMPORT  --
                           A  3444    ;framenumber                           IX+6    
                           A  3445    
                           A  3446    
                           A  3447    ; Stack Frame Size: 9 (bytes)
                           A  3448    ;       Spill Code: 0 (instruction)
                           A  3449    
                           A  3450    
                           A  3451    .ENDFUNC "vdp_spriteSetFrameSelected",310,"_vdp
                           A  3452    ;  311	
                           A  3453    ;  312	void vdp_spriteSetFrame(UINT8 id, UINT8
                           A  3454    ;  313	{
0B2E5D                     A  3455    _vdp_spriteSetFrame:
                           A  3456    .DEFINE "_vdp_spriteSetFrame"
                           A  3457    
                           A  3458    .VALUE _vdp_spriteSetFrame
                           A  3459    
                           A  3460    .CLASS 2
                           A  3461    
                           A  3462    .TYPE 65
                           A  3463    
                           A  3464    .ENDEF
                           A  3465    
                           A  3466    .BEGFUNC "vdp_spriteSetFrame",313,"_vdp_spriteS
                           A  3467    
                           A  3468    .LINE 313
                           A  3469    
                           A  3470    .DEFINE "id"
                           A  3471    
                           A  3472    .CLASS 65
                           A  3473    
                           A  3474    .VALUE 6
                           A  3475    
                           A  3476    .TYPE 12
                           A  3477    
                           A  3478    .ENDEF
                           A  3479    
                           A  3480    .DEFINE "framenumber"
                           A  3481    
                           A  3482    .CLASS 65
                           A  3483    
                           A  3484    .VALUE 9
                           A  3485    
                           A  3486    .TYPE 12
                           A  3487    
                           A  3488    .ENDEF
                           A  3489    
0B2E5D DDE5                A  3490    	PUSH	IX
0B2E5F DD210000 00         A  3491    	LD	IX,0
0B2E64 DD39                A  3492    	ADD	IX,SP
                           A  3493    ;  314		vdp_spriteSelect(id);
                           A  3494    .LINE 314
                           A  3495    
0B2E66 DD4E06              A  3496    	LD	C,(IX+%6)
0B2E69 0600                A  3497    	LD	B,%0
0B2E6B C5                  A  3498    	PUSH	BC
0B2E6C CD B3 2C 0B         A  3499    	CALL	_vdp_spriteSelect
0B2E70 C1                  A  3500    	POP	BC
                           A  3501    ;  315		vdp_spriteSetFrameSelected(framenum
                           A  3502    .LINE 315
                           A  3503    
0B2E71 DD4E09              A  3504    	LD	C,(IX+%9)
0B2E74 0600                A  3505    	LD	B,%0
0B2E76 C5                  A  3506    	PUSH	BC
0B2E77 CD 24 2E 0B         A  3507    	CALL	_vdp_spriteSetFrameSelected
0B2E7B C1                  A  3508    	POP	BC
                           A  3509    ;  316		return;
                           A  3510    ;  317	}
                           A  3511    .LINE 317
                           A  3512    
0B2E7C DDF9                A  3513    	LD	SP,IX
0B2E7E DDE1                A  3514    	POP	IX
0B2E80 C9                  A  3515    	RET	
                           A  3516    
                           A  3517    
                           A  3518    ;**************************** _vdp_spriteSetFra
                           A  3519    ;Name                         Addr/Register   S
                           A  3520    ;_vdp_spriteSetFrameSelected         IMPORT  --
                           A  3521    ;_vdp_spriteSelect                   IMPORT  --
                           A  3522    ;framenumber                           IX+9    
                           A  3523    ;id                                    IX+6    
                           A  3524    
                           A  3525    
                           A  3526    ; Stack Frame Size: 12 (bytes)
                           A  3527    ;       Spill Code: 0 (instruction)
                           A  3528    
                           A  3529    
                           A  3530    .ENDFUNC "vdp_spriteSetFrame",317,"_vdp_spriteS
                           A  3531    ;  318	
                           A  3532    ;  319	void vdp_spriteShowSelected(void)
                           A  3533    ;  320	{
0B2E81                     A  3534    _vdp_spriteShowSelected:
                           A  3535    .DEFINE "_vdp_spriteShowSelected"
                           A  3536    
                           A  3537    .VALUE _vdp_spriteShowSelected
                           A  3538    
                           A  3539    .CLASS 2
                           A  3540    
                           A  3541    .TYPE 65
                           A  3542    
                           A  3543    .ENDEF
                           A  3544    
                           A  3545    .BEGFUNC "vdp_spriteShowSelected",320,"_vdp_spr
                           A  3546    
0B2E81 DDE5                A  3547    	PUSH	IX
0B2E83 DD210000 00         A  3548    	LD	IX,0
0B2E88 DD39                A  3549    	ADD	IX,SP
                           A  3550    ;  321		putch(23); // vdu_sys
                           A  3551    .LINE 321
                           A  3552    
0B2E8A 01170000            A  3553    	LD	BC,23
0B2E8E C5                  A  3554    	PUSH	BC
0B2E8F CD 22 32 0B         A  3555    	CALL	_putch
0B2E93 C1                  A  3556    	POP	BC
                           A  3557    ;  322		putch(27); // sprite command
                           A  3558    .LINE 322
                           A  3559    
0B2E94 011B0000            A  3560    	LD	BC,27
0B2E98 C5                  A  3561    	PUSH	BC
0B2E99 CD 22 32 0B         A  3562    	CALL	_putch
0B2E9D C1                  A  3563    	POP	BC
                           A  3564    ;  323		putch(11); // show sprite
                           A  3565    .LINE 323
                           A  3566    
0B2E9E 010B0000            A  3567    	LD	BC,11
0B2EA2 C5                  A  3568    	PUSH	BC
0B2EA3 CD 22 32 0B         A  3569    	CALL	_putch
0B2EA7 C1                  A  3570    	POP	BC
                           A  3571    ;  324		return;			
                           A  3572    ;  325	}
                           A  3573    .LINE 325
                           A  3574    
0B2EA8 DDF9                A  3575    	LD	SP,IX
0B2EAA DDE1                A  3576    	POP	IX
0B2EAC C9                  A  3577    	RET	
                           A  3578    
                           A  3579    
                           A  3580    ;**************************** _vdp_spriteShowSe
                           A  3581    ;Name                         Addr/Register   S
                           A  3582    ;_putch                              IMPORT  --
                           A  3583    
                           A  3584    
                           A  3585    ; Stack Frame Size: 6 (bytes)
                           A  3586    ;       Spill Code: 0 (instruction)
                           A  3587    
                           A  3588    
                           A  3589    .ENDFUNC "vdp_spriteShowSelected",325,"_vdp_spr
                           A  3590    ;  326	
                           A  3591    ;  327	void vdp_spriteShow(UINT8 id)
                           A  3592    ;  328	{
0B2EAD                     A  3593    _vdp_spriteShow:
                           A  3594    .DEFINE "_vdp_spriteShow"
                           A  3595    
                           A  3596    .VALUE _vdp_spriteShow
                           A  3597    
                           A  3598    .CLASS 2
                           A  3599    
                           A  3600    .TYPE 65
                           A  3601    
                           A  3602    .ENDEF
                           A  3603    
                           A  3604    .BEGFUNC "vdp_spriteShow",328,"_vdp_spriteShow"
                           A  3605    
                           A  3606    .LINE 328
                           A  3607    
                           A  3608    .DEFINE "id"
                           A  3609    
                           A  3610    .CLASS 65
                           A  3611    
                           A  3612    .VALUE 6
                           A  3613    
                           A  3614    .TYPE 12
                           A  3615    
                           A  3616    .ENDEF
                           A  3617    
0B2EAD DDE5                A  3618    	PUSH	IX
0B2EAF DD210000 00         A  3619    	LD	IX,0
0B2EB4 DD39                A  3620    	ADD	IX,SP
                           A  3621    ;  329		vdp_spriteSelect(id);
                           A  3622    .LINE 329
                           A  3623    
0B2EB6 DD4E06              A  3624    	LD	C,(IX+%6)
0B2EB9 0600                A  3625    	LD	B,%0
0B2EBB C5                  A  3626    	PUSH	BC
0B2EBC CD B3 2C 0B         A  3627    	CALL	_vdp_spriteSelect
0B2EC0 C1                  A  3628    	POP	BC
                           A  3629    ;  330		vdp_spriteShowSelected();
                           A  3630    .LINE 330
                           A  3631    
0B2EC1 CD 81 2E 0B         A  3632    	CALL	_vdp_spriteShowSelected
                           A  3633    ;  331		return;
                           A  3634    ;  332	}
                           A  3635    .LINE 332
                           A  3636    
0B2EC5 DDF9                A  3637    	LD	SP,IX
0B2EC7 DDE1                A  3638    	POP	IX
0B2EC9 C9                  A  3639    	RET	
                           A  3640    
                           A  3641    
                           A  3642    ;**************************** _vdp_spriteShow *
                           A  3643    ;Name                         Addr/Register   S
                           A  3644    ;_vdp_spriteShowSelected             IMPORT  --
                           A  3645    ;_vdp_spriteSelect                   IMPORT  --
                           A  3646    ;id                                    IX+6    
                           A  3647    
                           A  3648    
                           A  3649    ; Stack Frame Size: 9 (bytes)
                           A  3650    ;       Spill Code: 0 (instruction)
                           A  3651    
                           A  3652    
                           A  3653    .ENDFUNC "vdp_spriteShow",332,"_vdp_spriteShow"
                           A  3654    ;  333	
                           A  3655    ;  334	void vdp_spriteHideSelected(void)
                           A  3656    ;  335	{
0B2ECA                     A  3657    _vdp_spriteHideSelected:
                           A  3658    .DEFINE "_vdp_spriteHideSelected"
                           A  3659    
                           A  3660    .VALUE _vdp_spriteHideSelected
                           A  3661    
                           A  3662    .CLASS 2
                           A  3663    
                           A  3664    .TYPE 65
                           A  3665    
                           A  3666    .ENDEF
                           A  3667    
                           A  3668    .BEGFUNC "vdp_spriteHideSelected",335,"_vdp_spr
                           A  3669    
0B2ECA DDE5                A  3670    	PUSH	IX
0B2ECC DD210000 00         A  3671    	LD	IX,0
0B2ED1 DD39                A  3672    	ADD	IX,SP
                           A  3673    ;  336		putch(23); // vdu_sys
                           A  3674    .LINE 336
                           A  3675    
0B2ED3 01170000            A  3676    	LD	BC,23
0B2ED7 C5                  A  3677    	PUSH	BC
0B2ED8 CD 22 32 0B         A  3678    	CALL	_putch
0B2EDC C1                  A  3679    	POP	BC
                           A  3680    ;  337		putch(27); // sprite command
                           A  3681    .LINE 337
                           A  3682    
0B2EDD 011B0000            A  3683    	LD	BC,27
0B2EE1 C5                  A  3684    	PUSH	BC
0B2EE2 CD 22 32 0B         A  3685    	CALL	_putch
0B2EE6 C1                  A  3686    	POP	BC
                           A  3687    ;  338		putch(12); // hide sprite
                           A  3688    .LINE 338
                           A  3689    
0B2EE7 010C0000            A  3690    	LD	BC,12
0B2EEB C5                  A  3691    	PUSH	BC
0B2EEC CD 22 32 0B         A  3692    	CALL	_putch
0B2EF0 C1                  A  3693    	POP	BC
                           A  3694    ;  339		return;		
                           A  3695    ;  340	}
                           A  3696    .LINE 340
                           A  3697    
0B2EF1 DDF9                A  3698    	LD	SP,IX
0B2EF3 DDE1                A  3699    	POP	IX
0B2EF5 C9                  A  3700    	RET	
                           A  3701    
                           A  3702    
                           A  3703    ;**************************** _vdp_spriteHideSe
                           A  3704    ;Name                         Addr/Register   S
                           A  3705    ;_putch                              IMPORT  --
                           A  3706    
                           A  3707    
                           A  3708    ; Stack Frame Size: 6 (bytes)
                           A  3709    ;       Spill Code: 0 (instruction)
                           A  3710    
                           A  3711    
                           A  3712    .ENDFUNC "vdp_spriteHideSelected",340,"_vdp_spr
                           A  3713    ;  341	
                           A  3714    ;  342	void vdp_spriteHide(UINT8 id)
                           A  3715    ;  343	{
0B2EF6                     A  3716    _vdp_spriteHide:
                           A  3717    .DEFINE "_vdp_spriteHide"
                           A  3718    
                           A  3719    .VALUE _vdp_spriteHide
                           A  3720    
                           A  3721    .CLASS 2
                           A  3722    
                           A  3723    .TYPE 65
                           A  3724    
                           A  3725    .ENDEF
                           A  3726    
                           A  3727    .BEGFUNC "vdp_spriteHide",343,"_vdp_spriteHide"
                           A  3728    
                           A  3729    .LINE 343
                           A  3730    
                           A  3731    .DEFINE "id"
                           A  3732    
                           A  3733    .CLASS 65
                           A  3734    
                           A  3735    .VALUE 6
                           A  3736    
                           A  3737    .TYPE 12
                           A  3738    
                           A  3739    .ENDEF
                           A  3740    
0B2EF6 DDE5                A  3741    	PUSH	IX
0B2EF8 DD210000 00         A  3742    	LD	IX,0
0B2EFD DD39                A  3743    	ADD	IX,SP
                           A  3744    ;  344		vdp_spriteSelect(id);
                           A  3745    .LINE 344
                           A  3746    
0B2EFF DD4E06              A  3747    	LD	C,(IX+%6)
0B2F02 0600                A  3748    	LD	B,%0
0B2F04 C5                  A  3749    	PUSH	BC
0B2F05 CD B3 2C 0B         A  3750    	CALL	_vdp_spriteSelect
0B2F09 C1                  A  3751    	POP	BC
                           A  3752    ;  345		vdp_spriteHideSelected();
                           A  3753    .LINE 345
                           A  3754    
0B2F0A CD CA 2E 0B         A  3755    	CALL	_vdp_spriteHideSelected
                           A  3756    ;  346		return;
                           A  3757    ;  347	}
                           A  3758    .LINE 347
                           A  3759    
0B2F0E DDF9                A  3760    	LD	SP,IX
0B2F10 DDE1                A  3761    	POP	IX
0B2F12 C9                  A  3762    	RET	
                           A  3763    
                           A  3764    
                           A  3765    ;**************************** _vdp_spriteHide *
                           A  3766    ;Name                         Addr/Register   S
                           A  3767    ;_vdp_spriteHideSelected             IMPORT  --
                           A  3768    ;_vdp_spriteSelect                   IMPORT  --
                           A  3769    ;id                                    IX+6    
                           A  3770    
                           A  3771    
                           A  3772    ; Stack Frame Size: 9 (bytes)
                           A  3773    ;       Spill Code: 0 (instruction)
                           A  3774    
                           A  3775    
                           A  3776    .ENDFUNC "vdp_spriteHide",347,"_vdp_spriteHide"
                           A  3777    ;  348	
                           A  3778    ;  349	void vdp_spriteMoveToSelected(UINT16 x,
                           A  3779    ;  350	{
0B2F13                     A  3780    _vdp_spriteMoveToSelected:
                           A  3781    .DEFINE "_vdp_spriteMoveToSelected"
                           A  3782    
                           A  3783    .VALUE _vdp_spriteMoveToSelected
                           A  3784    
                           A  3785    .CLASS 2
                           A  3786    
                           A  3787    .TYPE 65
                           A  3788    
                           A  3789    .ENDEF
                           A  3790    
                           A  3791    .BEGFUNC "vdp_spriteMoveToSelected",350,"_vdp_s
                           A  3792    
                           A  3793    .LINE 350
                           A  3794    
                           A  3795    .DEFINE "x"
                           A  3796    
                           A  3797    .CLASS 65
                           A  3798    
                           A  3799    .VALUE 6
                           A  3800    
                           A  3801    .TYPE 13
                           A  3802    
                           A  3803    .ENDEF
                           A  3804    
                           A  3805    .DEFINE "y"
                           A  3806    
                           A  3807    .CLASS 65
                           A  3808    
                           A  3809    .VALUE 9
                           A  3810    
                           A  3811    .TYPE 13
                           A  3812    
                           A  3813    .ENDEF
                           A  3814    
0B2F13 DDE5                A  3815    	PUSH	IX
0B2F15 DD210000 00         A  3816    	LD	IX,0
0B2F1A DD39                A  3817    	ADD	IX,SP
                           A  3818    ;  351		putch(23); // vdu_sys
                           A  3819    .LINE 351
                           A  3820    
0B2F1C 01170000            A  3821    	LD	BC,23
0B2F20 C5                  A  3822    	PUSH	BC
0B2F21 CD 22 32 0B         A  3823    	CALL	_putch
0B2F25 C1                  A  3824    	POP	BC
                           A  3825    ;  352		putch(27); // sprite command
                           A  3826    .LINE 352
                           A  3827    
0B2F26 011B0000            A  3828    	LD	BC,27
0B2F2A C5                  A  3829    	PUSH	BC
0B2F2B CD 22 32 0B         A  3830    	CALL	_putch
0B2F2F C1                  A  3831    	POP	BC
                           A  3832    ;  353		putch(13); // move to
                           A  3833    .LINE 353
                           A  3834    
0B2F30 010D0000            A  3835    	LD	BC,13
0B2F34 C5                  A  3836    	PUSH	BC
0B2F35 CD 22 32 0B         A  3837    	CALL	_putch
0B2F39 C1                  A  3838    	POP	BC
                           A  3839    ;  354		write16bit(x);
                           A  3840    .LINE 354
                           A  3841    
0B2F3A DD0706              A  3842    	LD	BC,(IX+%6)
0B2F3D C5                  A  3843    	PUSH	BC
0B2F3E CD 52 26 0B         A  3844    	CALL	_write16bit
0B2F42 C1                  A  3845    	POP	BC
                           A  3846    ;  355		write16bit(y);
                           A  3847    .LINE 355
                           A  3848    
0B2F43 DD0709              A  3849    	LD	BC,(IX+%9)
0B2F46 C5                  A  3850    	PUSH	BC
0B2F47 CD 52 26 0B         A  3851    	CALL	_write16bit
0B2F4B C1                  A  3852    	POP	BC
                           A  3853    ;  356		return;	
                           A  3854    ;  357	}
                           A  3855    .LINE 357
                           A  3856    
0B2F4C DDF9                A  3857    	LD	SP,IX
0B2F4E DDE1                A  3858    	POP	IX
0B2F50 C9                  A  3859    	RET	
                           A  3860    
                           A  3861    
                           A  3862    ;**************************** _vdp_spriteMoveTo
                           A  3863    ;Name                         Addr/Register   S
                           A  3864    ;_putch                              IMPORT  --
                           A  3865    ;y                                     IX+9    
                           A  3866    ;x                                     IX+6    
                           A  3867    
                           A  3868    
                           A  3869    ; Stack Frame Size: 12 (bytes)
                           A  3870    ;       Spill Code: 0 (instruction)
                           A  3871    
                           A  3872    
                           A  3873    .ENDFUNC "vdp_spriteMoveToSelected",357,"_vdp_s
                           A  3874    ;  358	
                           A  3875    ;  359	void vdp_spriteMoveTo(UINT8 id, UINT16 
                           A  3876    ;  360	{
0B2F51                     A  3877    _vdp_spriteMoveTo:
                           A  3878    .DEFINE "_vdp_spriteMoveTo"
                           A  3879    
                           A  3880    .VALUE _vdp_spriteMoveTo
                           A  3881    
                           A  3882    .CLASS 2
                           A  3883    
                           A  3884    .TYPE 65
                           A  3885    
                           A  3886    .ENDEF
                           A  3887    
                           A  3888    .BEGFUNC "vdp_spriteMoveTo",360,"_vdp_spriteMov
                           A  3889    
                           A  3890    .LINE 360
                           A  3891    
                           A  3892    .DEFINE "id"
                           A  3893    
                           A  3894    .CLASS 65
                           A  3895    
                           A  3896    .VALUE 6
                           A  3897    
                           A  3898    .TYPE 12
                           A  3899    
                           A  3900    .ENDEF
                           A  3901    
                           A  3902    .DEFINE "x"
                           A  3903    
                           A  3904    .CLASS 65
                           A  3905    
                           A  3906    .VALUE 9
                           A  3907    
                           A  3908    .TYPE 13
                           A  3909    
                           A  3910    .ENDEF
                           A  3911    
                           A  3912    .DEFINE "y"
                           A  3913    
                           A  3914    .CLASS 65
                           A  3915    
                           A  3916    .VALUE 12
                           A  3917    
                           A  3918    .TYPE 13
                           A  3919    
                           A  3920    .ENDEF
                           A  3921    
0B2F51 DDE5                A  3922    	PUSH	IX
0B2F53 DD210000 00         A  3923    	LD	IX,0
0B2F58 DD39                A  3924    	ADD	IX,SP
                           A  3925    ;  361		vdp_spriteSelect(id);
                           A  3926    .LINE 361
                           A  3927    
0B2F5A DD4E06              A  3928    	LD	C,(IX+%6)
0B2F5D 0600                A  3929    	LD	B,%0
0B2F5F C5                  A  3930    	PUSH	BC
0B2F60 CD B3 2C 0B         A  3931    	CALL	_vdp_spriteSelect
0B2F64 C1                  A  3932    	POP	BC
                           A  3933    ;  362		vdp_spriteMoveToSelected(x,y);
                           A  3934    .LINE 362
                           A  3935    
0B2F65 DD070C              A  3936    	LD	BC,(IX+%C)
0B2F68 C5                  A  3937    	PUSH	BC
0B2F69 DD0709              A  3938    	LD	BC,(IX+%9)
0B2F6C C5                  A  3939    	PUSH	BC
0B2F6D CD 13 2F 0B         A  3940    	CALL	_vdp_spriteMoveToSelected
0B2F71 C1                  A  3941    	POP	BC
0B2F72 C1                  A  3942    	POP	BC
                           A  3943    ;  363		return;
                           A  3944    ;  364	}
                           A  3945    .LINE 364
                           A  3946    
0B2F73 DDF9                A  3947    	LD	SP,IX
0B2F75 DDE1                A  3948    	POP	IX
0B2F77 C9                  A  3949    	RET	
                           A  3950    
                           A  3951    
                           A  3952    ;**************************** _vdp_spriteMoveTo
                           A  3953    ;Name                         Addr/Register   S
                           A  3954    ;_vdp_spriteMoveToSelected           IMPORT  --
                           A  3955    ;_vdp_spriteSelect                   IMPORT  --
                           A  3956    ;y                                    IX+12    
                           A  3957    ;x                                     IX+9    
                           A  3958    ;id                                    IX+6    
                           A  3959    
                           A  3960    
                           A  3961    ; Stack Frame Size: 15 (bytes)
                           A  3962    ;       Spill Code: 0 (instruction)
                           A  3963    
                           A  3964    
                           A  3965    .ENDFUNC "vdp_spriteMoveTo",364,"_vdp_spriteMov
                           A  3966    ;  365	
                           A  3967    ;  366	void vdp_spriteMoveBySelected(UINT16 x,
                           A  3968    ;  367	{
0B2F78                     A  3969    _vdp_spriteMoveBySelected:
                           A  3970    .DEFINE "_vdp_spriteMoveBySelected"
                           A  3971    
                           A  3972    .VALUE _vdp_spriteMoveBySelected
                           A  3973    
                           A  3974    .CLASS 2
                           A  3975    
                           A  3976    .TYPE 65
                           A  3977    
                           A  3978    .ENDEF
                           A  3979    
                           A  3980    .BEGFUNC "vdp_spriteMoveBySelected",367,"_vdp_s
                           A  3981    
                           A  3982    .LINE 367
                           A  3983    
                           A  3984    .DEFINE "x"
                           A  3985    
                           A  3986    .CLASS 65
                           A  3987    
                           A  3988    .VALUE 6
                           A  3989    
                           A  3990    .TYPE 13
                           A  3991    
                           A  3992    .ENDEF
                           A  3993    
                           A  3994    .DEFINE "y"
                           A  3995    
                           A  3996    .CLASS 65
                           A  3997    
                           A  3998    .VALUE 9
                           A  3999    
                           A  4000    .TYPE 13
                           A  4001    
                           A  4002    .ENDEF
                           A  4003    
0B2F78 DDE5                A  4004    	PUSH	IX
0B2F7A DD210000 00         A  4005    	LD	IX,0
0B2F7F DD39                A  4006    	ADD	IX,SP
                           A  4007    ;  368		putch(23); // vdu_sys
                           A  4008    .LINE 368
                           A  4009    
0B2F81 01170000            A  4010    	LD	BC,23
0B2F85 C5                  A  4011    	PUSH	BC
0B2F86 CD 22 32 0B         A  4012    	CALL	_putch
0B2F8A C1                  A  4013    	POP	BC
                           A  4014    ;  369		putch(27); // sprite command
                           A  4015    .LINE 369
                           A  4016    
0B2F8B 011B0000            A  4017    	LD	BC,27
0B2F8F C5                  A  4018    	PUSH	BC
0B2F90 CD 22 32 0B         A  4019    	CALL	_putch
0B2F94 C1                  A  4020    	POP	BC
                           A  4021    ;  370		putch(14); // move by
                           A  4022    .LINE 370
                           A  4023    
0B2F95 010E0000            A  4024    	LD	BC,14
0B2F99 C5                  A  4025    	PUSH	BC
0B2F9A CD 22 32 0B         A  4026    	CALL	_putch
0B2F9E C1                  A  4027    	POP	BC
                           A  4028    ;  371		write16bit(x);
                           A  4029    .LINE 371
                           A  4030    
0B2F9F DD0706              A  4031    	LD	BC,(IX+%6)
0B2FA2 C5                  A  4032    	PUSH	BC
0B2FA3 CD 52 26 0B         A  4033    	CALL	_write16bit
0B2FA7 C1                  A  4034    	POP	BC
                           A  4035    ;  372		write16bit(y);
                           A  4036    .LINE 372
                           A  4037    
0B2FA8 DD0709              A  4038    	LD	BC,(IX+%9)
0B2FAB C5                  A  4039    	PUSH	BC
0B2FAC CD 52 26 0B         A  4040    	CALL	_write16bit
0B2FB0 C1                  A  4041    	POP	BC
                           A  4042    ;  373		return;	
                           A  4043    ;  374	}
                           A  4044    .LINE 374
                           A  4045    
0B2FB1 DDF9                A  4046    	LD	SP,IX
0B2FB3 DDE1                A  4047    	POP	IX
0B2FB5 C9                  A  4048    	RET	
                           A  4049    
                           A  4050    
                           A  4051    ;**************************** _vdp_spriteMoveBy
                           A  4052    ;Name                         Addr/Register   S
                           A  4053    ;_putch                              IMPORT  --
                           A  4054    ;y                                     IX+9    
                           A  4055    ;x                                     IX+6    
                           A  4056    
                           A  4057    
                           A  4058    ; Stack Frame Size: 12 (bytes)
                           A  4059    ;       Spill Code: 0 (instruction)
                           A  4060    
                           A  4061    
                           A  4062    .ENDFUNC "vdp_spriteMoveBySelected",374,"_vdp_s
                           A  4063    ;  375	
                           A  4064    ;  376	void vdp_spriteMoveBy(UINT8 id, UINT16 
                           A  4065    ;  377	{
0B2FB6                     A  4066    _vdp_spriteMoveBy:
                           A  4067    .DEFINE "_vdp_spriteMoveBy"
                           A  4068    
                           A  4069    .VALUE _vdp_spriteMoveBy
                           A  4070    
                           A  4071    .CLASS 2
                           A  4072    
                           A  4073    .TYPE 65
                           A  4074    
                           A  4075    .ENDEF
                           A  4076    
                           A  4077    .BEGFUNC "vdp_spriteMoveBy",377,"_vdp_spriteMov
                           A  4078    
                           A  4079    .LINE 377
                           A  4080    
                           A  4081    .DEFINE "id"
                           A  4082    
                           A  4083    .CLASS 65
                           A  4084    
                           A  4085    .VALUE 6
                           A  4086    
                           A  4087    .TYPE 12
                           A  4088    
                           A  4089    .ENDEF
                           A  4090    
                           A  4091    .DEFINE "x"
                           A  4092    
                           A  4093    .CLASS 65
                           A  4094    
                           A  4095    .VALUE 9
                           A  4096    
                           A  4097    .TYPE 13
                           A  4098    
                           A  4099    .ENDEF
                           A  4100    
                           A  4101    .DEFINE "y"
                           A  4102    
                           A  4103    .CLASS 65
                           A  4104    
                           A  4105    .VALUE 12
                           A  4106    
                           A  4107    .TYPE 13
                           A  4108    
                           A  4109    .ENDEF
                           A  4110    
0B2FB6 DDE5                A  4111    	PUSH	IX
0B2FB8 DD210000 00         A  4112    	LD	IX,0
0B2FBD DD39                A  4113    	ADD	IX,SP
                           A  4114    ;  378		vdp_spriteSelect(id);
                           A  4115    .LINE 378
                           A  4116    
0B2FBF DD4E06              A  4117    	LD	C,(IX+%6)
0B2FC2 0600                A  4118    	LD	B,%0
0B2FC4 C5                  A  4119    	PUSH	BC
0B2FC5 CD B3 2C 0B         A  4120    	CALL	_vdp_spriteSelect
0B2FC9 C1                  A  4121    	POP	BC
                           A  4122    ;  379		vdp_spriteMoveBySelected(x,y);
                           A  4123    .LINE 379
                           A  4124    
0B2FCA DD070C              A  4125    	LD	BC,(IX+%C)
0B2FCD C5                  A  4126    	PUSH	BC
0B2FCE DD0709              A  4127    	LD	BC,(IX+%9)
0B2FD1 C5                  A  4128    	PUSH	BC
0B2FD2 CD 78 2F 0B         A  4129    	CALL	_vdp_spriteMoveBySelected
0B2FD6 C1                  A  4130    	POP	BC
0B2FD7 C1                  A  4131    	POP	BC
                           A  4132    ;  380		return;
                           A  4133    ;  381	}
                           A  4134    .LINE 381
                           A  4135    
0B2FD8 DDF9                A  4136    	LD	SP,IX
0B2FDA DDE1                A  4137    	POP	IX
0B2FDC C9                  A  4138    	RET	
                           A  4139    
                           A  4140    
                           A  4141    ;**************************** _vdp_spriteMoveBy
                           A  4142    ;Name                         Addr/Register   S
                           A  4143    ;_vdp_spriteMoveBySelected           IMPORT  --
                           A  4144    ;_vdp_spriteSelect                   IMPORT  --
                           A  4145    ;y                                    IX+12    
                           A  4146    ;x                                     IX+9    
                           A  4147    ;id                                    IX+6    
                           A  4148    
                           A  4149    
                           A  4150    ; Stack Frame Size: 15 (bytes)
                           A  4151    ;       Spill Code: 0 (instruction)
                           A  4152    
                           A  4153    
                           A  4154    .ENDFUNC "vdp_spriteMoveBy",381,"_vdp_spriteMov
                           A  4155    ;  382	
                           A  4156    ;  383	void vdp_spriteActivateTotal(UINT8 numb
                           A  4157    ;  384	{
0B2FDD                     A  4158    _vdp_spriteActivateTotal:
                           A  4159    .DEFINE "_vdp_spriteActivateTotal"
                           A  4160    
                           A  4161    .VALUE _vdp_spriteActivateTotal
                           A  4162    
                           A  4163    .CLASS 2
                           A  4164    
                           A  4165    .TYPE 65
                           A  4166    
                           A  4167    .ENDEF
                           A  4168    
                           A  4169    .BEGFUNC "vdp_spriteActivateTotal",384,"_vdp_sp
                           A  4170    
                           A  4171    .LINE 384
                           A  4172    
                           A  4173    .DEFINE "number"
                           A  4174    
                           A  4175    .CLASS 65
                           A  4176    
                           A  4177    .VALUE 6
                           A  4178    
                           A  4179    .TYPE 12
                           A  4180    
                           A  4181    .ENDEF
                           A  4182    
0B2FDD DDE5                A  4183    	PUSH	IX
0B2FDF DD210000 00         A  4184    	LD	IX,0
0B2FE4 DD39                A  4185    	ADD	IX,SP
                           A  4186    ;  385		putch(23); // vdu_sys
                           A  4187    .LINE 385
                           A  4188    
0B2FE6 01170000            A  4189    	LD	BC,23
0B2FEA C5                  A  4190    	PUSH	BC
0B2FEB CD 22 32 0B         A  4191    	CALL	_putch
0B2FEF C1                  A  4192    	POP	BC
                           A  4193    ;  386		putch(27); // sprite command
                           A  4194    .LINE 386
                           A  4195    
0B2FF0 011B0000            A  4196    	LD	BC,27
0B2FF4 C5                  A  4197    	PUSH	BC
0B2FF5 CD 22 32 0B         A  4198    	CALL	_putch
0B2FF9 C1                  A  4199    	POP	BC
                           A  4200    ;  387		putch(7);  // set number of sprites
                           A  4201    .LINE 387
                           A  4202    
0B2FFA 01070000            A  4203    	LD	BC,7
0B2FFE C5                  A  4204    	PUSH	BC
0B2FFF CD 22 32 0B         A  4205    	CALL	_putch
0B3003 C1                  A  4206    	POP	BC
                           A  4207    ;  388		putch(number);
                           A  4208    .LINE 388
                           A  4209    
0B3004 DD7E06              A  4210    	LD	A,(IX+%6)
0B3007 B7ED62              A  4211    	UEXT	HL
0B300A 6F                  A  4212    	LD	L,A
0B300B E5                  A  4213    	PUSH	HL
0B300C CD 22 32 0B         A  4214    	CALL	_putch
0B3010 C1                  A  4215    	POP	BC
                           A  4216    ;  389		return;	
                           A  4217    ;  390	}
                           A  4218    .LINE 390
                           A  4219    
0B3011 DDF9                A  4220    	LD	SP,IX
0B3013 DDE1                A  4221    	POP	IX
0B3015 C9                  A  4222    	RET	
                           A  4223    
                           A  4224    
                           A  4225    ;**************************** _vdp_spriteActiva
                           A  4226    ;Name                         Addr/Register   S
                           A  4227    ;_putch                              IMPORT  --
                           A  4228    ;number                                IX+6    
                           A  4229    
                           A  4230    
                           A  4231    ; Stack Frame Size: 9 (bytes)
                           A  4232    ;       Spill Code: 0 (instruction)
                           A  4233    
                           A  4234    
                           A  4235    .ENDFUNC "vdp_spriteActivateTotal",390,"_vdp_sp
                           A  4236    ;  391	
                           A  4237    ;  392	void vdp_spriteRefresh(void)
                           A  4238    ;  393	{
0B3016                     A  4239    _vdp_spriteRefresh:
                           A  4240    .DEFINE "_vdp_spriteRefresh"
                           A  4241    
                           A  4242    .VALUE _vdp_spriteRefresh
                           A  4243    
                           A  4244    .CLASS 2
                           A  4245    
                           A  4246    .TYPE 65
                           A  4247    
                           A  4248    .ENDEF
                           A  4249    
                           A  4250    .BEGFUNC "vdp_spriteRefresh",393,"_vdp_spriteRe
                           A  4251    
0B3016 DDE5                A  4252    	PUSH	IX
0B3018 DD210000 00         A  4253    	LD	IX,0
0B301D DD39                A  4254    	ADD	IX,SP
                           A  4255    ;  394		putch(23);	// vdu_sys
                           A  4256    .LINE 394
                           A  4257    
0B301F 01170000            A  4258    	LD	BC,23
0B3023 C5                  A  4259    	PUSH	BC
0B3024 CD 22 32 0B         A  4260    	CALL	_putch
0B3028 C1                  A  4261    	POP	BC
                           A  4262    ;  395		putch(27);	// sprite command
                           A  4263    .LINE 395
                           A  4264    
0B3029 011B0000            A  4265    	LD	BC,27
0B302D C5                  A  4266    	PUSH	BC
0B302E CD 22 32 0B         A  4267    	CALL	_putch
0B3032 C1                  A  4268    	POP	BC
                           A  4269    ;  396		putch(15);	// refresh all sprites
                           A  4270    .LINE 396
                           A  4271    
0B3033 010F0000            A  4272    	LD	BC,15
0B3037 C5                  A  4273    	PUSH	BC
0B3038 CD 22 32 0B         A  4274    	CALL	_putch
0B303C C1                  A  4275    	POP	BC
                           A  4276    ;  397		return;
                           A  4277    ;  398	}
                           A  4278    .LINE 398
                           A  4279    
0B303D DDF9                A  4280    	LD	SP,IX
0B303F DDE1                A  4281    	POP	IX
0B3041 C9                  A  4282    	RET	
                           A  4283    
                           A  4284    
                           A  4285    ;**************************** _vdp_spriteRefres
                           A  4286    ;Name                         Addr/Register   S
                           A  4287    ;_putch                              IMPORT  --
                           A  4288    
                           A  4289    
                           A  4290    ; Stack Frame Size: 6 (bytes)
                           A  4291    ;       Spill Code: 0 (instruction)
                           A  4292    
                           A  4293    
                           A  4294    .ENDFUNC "vdp_spriteRefresh",398,"_vdp_spriteRe
                           A  4295    ;  399	
                           A  4296    ;  400	UINT8 vdp_cursorGetXpos(void)
                           A  4297    ;  401	{
0B3042                     A  4298    _vdp_cursorGetXpos:
                           A  4299    .DEFINE "_vdp_cursorGetXpos"
                           A  4300    
                           A  4301    .VALUE _vdp_cursorGetXpos
                           A  4302    
                           A  4303    .CLASS 2
                           A  4304    
                           A  4305    .TYPE 76
                           A  4306    
                           A  4307    .ENDEF
                           A  4308    
                           A  4309    .BEGFUNC "vdp_cursorGetXpos",401,"_vdp_cursorGe
                           A  4310    
                           A  4311    .LINE 401
                           A  4312    
                           A  4313    .DEFINE "delay"
                           A  4314    
                           A  4315    .CLASS 65
                           A  4316    
                           A  4317    .VALUE -3
                           A  4318    
                           A  4319    .TYPE 14
                           A  4320    
                           A  4321    .ENDEF
                           A  4322    
0B3042 DDE5                A  4323    	PUSH	IX
0B3044 DD210000 00         A  4324    	LD	IX,0
0B3049 DD39                A  4325    	ADD	IX,SP
0B304B C5                  A  4326    	PUSH	BC
                           A  4327    ;  402		unsigned int delay;
                           A  4328    ;  403		
                           A  4329    ;  404		putch(23);	// VDP command
                           A  4330    .LINE 404
                           A  4331    
0B304C 01170000            A  4332    	LD	BC,23
0B3050 C5                  A  4333    	PUSH	BC
0B3051 CD 22 32 0B         A  4334    	CALL	_putch
0B3055 C1                  A  4335    	POP	BC
                           A  4336    ;  405		putch(0);	// VDP command
                           A  4337    .LINE 405
                           A  4338    
0B3056 01000000            A  4339    	LD	BC,0
0B305A C5                  A  4340    	PUSH	BC
0B305B CD 22 32 0B         A  4341    	CALL	_putch
0B305F C1                  A  4342    	POP	BC
                           A  4343    ;  406		putch(0x82);	// Request cursor p
                           A  4344    .LINE 406
                           A  4345    
0B3060 01820000            A  4346    	LD	BC,130
0B3064 C5                  A  4347    	PUSH	BC
0B3065 CD 22 32 0B         A  4348    	CALL	_putch
0B3069 C1                  A  4349    	POP	BC
                           A  4350    ;  407		
                           A  4351    ;  408		delay = 255;
                           A  4352    .LINE 408
                           A  4353    
0B306A 01FF0000            A  4354    	LD	BC,255
0B306E DD0FFD              A  4355    	LD	(IX+%FFFFFFFD),BC
                           A  4356    ;  409		while(delay--);
0B3071                     A  4357    L_61:
                           A  4358    .LINE 409
                           A  4359    
0B3071 DD27FD              A  4360    	LD	HL,(IX+%FFFFFFFD)
0B3074 DD31FD              A  4361    	LD	IY,(IX+%FFFFFFFD)
0B3077 ED33FF              A  4362    	LEA	IY,IY+%FFFFFFFF
0B307A DD3EFD              A  4363    	LD	(IX+%FFFFFFFD),IY
0B307D 01000000            A  4364    	LD	BC,0
0B3081 B7                  A  4365    	OR	A,A
0B3082 ED42                A  4366    	SBC	HL,BC
0B3084 20 EB               A  4367    	JR	NZ,L_61
                           A  4368    ;  410		return(getsysvar_cursorX());
                           A  4369    .LINE 410
                           A  4370    
0B3086 CD 93 32 0B         A  4371    	CALL	_getsysvar_cursorX
                           A  4372    ;  411	
                           A  4373    ;  412	}
                           A  4374    .LINE 412
                           A  4375    
0B308A DDF9                A  4376    	LD	SP,IX
0B308C DDE1                A  4377    	POP	IX
0B308E C9                  A  4378    	RET	
                           A  4379    
                           A  4380    
                           A  4381    ;**************************** _vdp_cursorGetXpo
                           A  4382    ;Name                         Addr/Register   S
                           A  4383    ;_getsysvar_cursorX                  IMPORT  --
                           A  4384    ;_putch                              IMPORT  --
                           A  4385    ;delay                                 IX-3    
                           A  4386    
                           A  4387    
                           A  4388    ; Stack Frame Size: 9 (bytes)
                           A  4389    ;       Spill Code: 0 (instruction)
                           A  4390    
                           A  4391    
                           A  4392    .ENDFUNC "vdp_cursorGetXpos",412,"_vdp_cursorGe
                           A  4393    ;  413	
                           A  4394    ;  414	UINT8 vdp_cursorGetYpos(void)
                           A  4395    ;  415	{
0B308F                     A  4396    _vdp_cursorGetYpos:
                           A  4397    .DEFINE "_vdp_cursorGetYpos"
                           A  4398    
                           A  4399    .VALUE _vdp_cursorGetYpos
                           A  4400    
                           A  4401    .CLASS 2
                           A  4402    
                           A  4403    .TYPE 76
                           A  4404    
                           A  4405    .ENDEF
                           A  4406    
                           A  4407    .BEGFUNC "vdp_cursorGetYpos",415,"_vdp_cursorGe
                           A  4408    
                           A  4409    .LINE 415
                           A  4410    
                           A  4411    .DEFINE "delay"
                           A  4412    
                           A  4413    .CLASS 65
                           A  4414    
                           A  4415    .VALUE -3
                           A  4416    
                           A  4417    .TYPE 14
                           A  4418    
                           A  4419    .ENDEF
                           A  4420    
0B308F DDE5                A  4421    	PUSH	IX
0B3091 DD210000 00         A  4422    	LD	IX,0
0B3096 DD39                A  4423    	ADD	IX,SP
0B3098 C5                  A  4424    	PUSH	BC
                           A  4425    ;  416		unsigned int delay;
                           A  4426    ;  417		
                           A  4427    ;  418		putch(23);	// VDP command
                           A  4428    .LINE 418
                           A  4429    
0B3099 01170000            A  4430    	LD	BC,23
0B309D C5                  A  4431    	PUSH	BC
0B309E CD 22 32 0B         A  4432    	CALL	_putch
0B30A2 C1                  A  4433    	POP	BC
                           A  4434    ;  419		putch(0);	// VDP command
                           A  4435    .LINE 419
                           A  4436    
0B30A3 01000000            A  4437    	LD	BC,0
0B30A7 C5                  A  4438    	PUSH	BC
0B30A8 CD 22 32 0B         A  4439    	CALL	_putch
0B30AC C1                  A  4440    	POP	BC
                           A  4441    ;  420		putch(0x82);	// Request cursor p
                           A  4442    .LINE 420
                           A  4443    
0B30AD 01820000            A  4444    	LD	BC,130
0B30B1 C5                  A  4445    	PUSH	BC
0B30B2 CD 22 32 0B         A  4446    	CALL	_putch
0B30B6 C1                  A  4447    	POP	BC
                           A  4448    ;  421		
                           A  4449    ;  422		delay = 255;
                           A  4450    .LINE 422
                           A  4451    
0B30B7 01FF0000            A  4452    	LD	BC,255
0B30BB DD0FFD              A  4453    	LD	(IX+%FFFFFFFD),BC
                           A  4454    ;  423		while(delay--);
0B30BE                     A  4455    L_66:
                           A  4456    .LINE 423
                           A  4457    
0B30BE DD27FD              A  4458    	LD	HL,(IX+%FFFFFFFD)
0B30C1 DD31FD              A  4459    	LD	IY,(IX+%FFFFFFFD)
0B30C4 ED33FF              A  4460    	LEA	IY,IY+%FFFFFFFF
0B30C7 DD3EFD              A  4461    	LD	(IX+%FFFFFFFD),IY
0B30CA 01000000            A  4462    	LD	BC,0
0B30CE B7                  A  4463    	OR	A,A
0B30CF ED42                A  4464    	SBC	HL,BC
0B30D1 20 EB               A  4465    	JR	NZ,L_66
                           A  4466    ;  424		return(getsysvar_cursorY());
                           A  4467    .LINE 424
                           A  4468    
0B30D3 CD 9F 32 0B         A  4469    	CALL	_getsysvar_cursorY
                           A  4470    ;  425	}
                           A  4471    .LINE 425
                           A  4472    
0B30D7 DDF9                A  4473    	LD	SP,IX
0B30D9 DDE1                A  4474    	POP	IX
0B30DB C9                  A  4475    	RET	
                           A  4476    
                           A  4477    
                           A  4478    ;**************************** _vdp_cursorGetYpo
                           A  4479    ;Name                         Addr/Register   S
                           A  4480    ;_getsysvar_cursorY                  IMPORT  --
                           A  4481    ;_putch                              IMPORT  --
                           A  4482    ;delay                                 IX-3    
                           A  4483    
                           A  4484    
                           A  4485    ; Stack Frame Size: 9 (bytes)
                           A  4486    ;       Spill Code: 0 (instruction)
                           A  4487    
                           A  4488    
                           A  4489    .ENDFUNC "vdp_cursorGetYpos",425,"_vdp_cursorGe
                           A  4490    ;  426	
                           A  4491    ;  427	char vdp_asciiCodeAt(unsigned char x, u
                           A  4492    ;  428	{
0B30DC                     A  4493    _vdp_asciiCodeAt:
                           A  4494    .DEFINE "_vdp_asciiCodeAt"
                           A  4495    
                           A  4496    .VALUE _vdp_asciiCodeAt
                           A  4497    
                           A  4498    .CLASS 2
                           A  4499    
                           A  4500    .TYPE 66
                           A  4501    
                           A  4502    .ENDEF
                           A  4503    
                           A  4504    .BEGFUNC "vdp_asciiCodeAt",428,"_vdp_asciiCodeA
                           A  4505    
                           A  4506    .LINE 428
                           A  4507    
                           A  4508    .DEFINE "x"
                           A  4509    
                           A  4510    .CLASS 65
                           A  4511    
                           A  4512    .VALUE 6
                           A  4513    
                           A  4514    .TYPE 12
                           A  4515    
                           A  4516    .ENDEF
                           A  4517    
                           A  4518    .DEFINE "y"
                           A  4519    
                           A  4520    .CLASS 65
                           A  4521    
                           A  4522    .VALUE 9
                           A  4523    
                           A  4524    .TYPE 12
                           A  4525    
                           A  4526    .ENDEF
                           A  4527    
                           A  4528    .DEFINE "delay"
                           A  4529    
                           A  4530    .CLASS 65
                           A  4531    
                           A  4532    .VALUE -3
                           A  4533    
                           A  4534    .TYPE 14
                           A  4535    
                           A  4536    .ENDEF
                           A  4537    
0B30DC DDE5                A  4538    	PUSH	IX
0B30DE DD210000 00         A  4539    	LD	IX,0
0B30E3 DD39                A  4540    	ADD	IX,SP
0B30E5 C5                  A  4541    	PUSH	BC
                           A  4542    ;  429		unsigned int delay;
                           A  4543    ;  430		
                           A  4544    ;  431		putch(23);	// VDP command
                           A  4545    .LINE 431
                           A  4546    
0B30E6 01170000            A  4547    	LD	BC,23
0B30EA C5                  A  4548    	PUSH	BC
0B30EB CD 22 32 0B         A  4549    	CALL	_putch
0B30EF C1                  A  4550    	POP	BC
                           A  4551    ;  432		putch(0);	// VDP command
                           A  4552    .LINE 432
                           A  4553    
0B30F0 01000000            A  4554    	LD	BC,0
0B30F4 C5                  A  4555    	PUSH	BC
0B30F5 CD 22 32 0B         A  4556    	CALL	_putch
0B30F9 C1                  A  4557    	POP	BC
                           A  4558    ;  433		putch(0x83);	// Request ascii co
                           A  4559    .LINE 433
                           A  4560    
0B30FA 01830000            A  4561    	LD	BC,131
0B30FE C5                  A  4562    	PUSH	BC
0B30FF CD 22 32 0B         A  4563    	CALL	_putch
0B3103 C1                  A  4564    	POP	BC
                           A  4565    ;  434		putch(x);
                           A  4566    .LINE 434
                           A  4567    
0B3104 DD7E06              A  4568    	LD	A,(IX+%6)
0B3107 B7ED62              A  4569    	UEXT	HL
0B310A 6F                  A  4570    	LD	L,A
0B310B E5                  A  4571    	PUSH	HL
0B310C CD 22 32 0B         A  4572    	CALL	_putch
0B3110 C1                  A  4573    	POP	BC
                           A  4574    ;  435		putch(0);
                           A  4575    .LINE 435
                           A  4576    
0B3111 01000000            A  4577    	LD	BC,0
0B3115 C5                  A  4578    	PUSH	BC
0B3116 CD 22 32 0B         A  4579    	CALL	_putch
0B311A C1                  A  4580    	POP	BC
                           A  4581    ;  436		putch(y);
                           A  4582    .LINE 436
                           A  4583    
0B311B DD7E09              A  4584    	LD	A,(IX+%9)
0B311E B7ED62              A  4585    	UEXT	HL
0B3121 6F                  A  4586    	LD	L,A
0B3122 E5                  A  4587    	PUSH	HL
0B3123 CD 22 32 0B         A  4588    	CALL	_putch
0B3127 C1                  A  4589    	POP	BC
                           A  4590    ;  437		putch(0);
                           A  4591    .LINE 437
                           A  4592    
0B3128 01000000            A  4593    	LD	BC,0
0B312C C5                  A  4594    	PUSH	BC
0B312D CD 22 32 0B         A  4595    	CALL	_putch
0B3131 C1                  A  4596    	POP	BC
                           A  4597    ;  438		
                           A  4598    ;  439		delay = 64000;
                           A  4599    .LINE 439
                           A  4600    
0B3132 0100FA00            A  4601    	LD	BC,64000
0B3136 DD0FFD              A  4602    	LD	(IX+%FFFFFFFD),BC
                           A  4603    ;  440		while(delay--);
0B3139                     A  4604    L_71:
                           A  4605    .LINE 440
                           A  4606    
0B3139 DD27FD              A  4607    	LD	HL,(IX+%FFFFFFFD)
0B313C DD31FD              A  4608    	LD	IY,(IX+%FFFFFFFD)
0B313F ED33FF              A  4609    	LEA	IY,IY+%FFFFFFFF
0B3142 DD3EFD              A  4610    	LD	(IX+%FFFFFFFD),IY
0B3145 01000000            A  4611    	LD	BC,0
0B3149 B7                  A  4612    	OR	A,A
0B314A ED42                A  4613    	SBC	HL,BC
0B314C 20 EB               A  4614    	JR	NZ,L_71
                           A  4615    ;  441		return(getsysvar_scrchar());
                           A  4616    .LINE 441
                           A  4617    
0B314E CD AB 32 0B         A  4618    	CALL	_getsysvar_scrchar
                           A  4619    ;  442	}
                           A  4620    .LINE 442
                           A  4621    
0B3152 DDF9                A  4622    	LD	SP,IX
0B3154 DDE1                A  4623    	POP	IX
0B3156 C9                  A  4624    	RET	
                           A  4625    
                           A  4626    
                           A  4627    ;**************************** _vdp_asciiCodeAt 
                           A  4628    ;Name                         Addr/Register   S
                           A  4629    ;_getsysvar_scrchar                  IMPORT  --
                           A  4630    ;_putch                              IMPORT  --
                           A  4631    ;delay                                 IX-3    
                           A  4632    ;y                                     IX+9    
                           A  4633    ;x                                     IX+6    
                           A  4634    
                           A  4635    
                           A  4636    ; Stack Frame Size: 15 (bytes)
                           A  4637    ;       Spill Code: 0 (instruction)
                           A  4638    
                           A  4639    
                           A  4640    .ENDFUNC "vdp_asciiCodeAt",442,"_vdp_asciiCodeA
                           A  4641    ;  443	
                           A  4642    ;  444	void  vdp_setpagedMode(bool mode) {
0B3157                     A  4643    _vdp_setpagedMode:
                           A  4644    .DEFINE "_vdp_setpagedMode"
                           A  4645    
                           A  4646    .VALUE _vdp_setpagedMode
                           A  4647    
                           A  4648    .CLASS 2
                           A  4649    
                           A  4650    .TYPE 65
                           A  4651    
                           A  4652    .ENDEF
                           A  4653    
                           A  4654    .BEGFUNC "vdp_setpagedMode",444,"_vdp_setpagedM
                           A  4655    
                           A  4656    .LINE 444
                           A  4657    
                           A  4658    .DEFINE "mode"
                           A  4659    
                           A  4660    .CLASS 65
                           A  4661    
                           A  4662    .VALUE 6
                           A  4663    
                           A  4664    .TYPE 12
                           A  4665    
                           A  4666    .ENDEF
                           A  4667    
0B3157 DDE5                A  4668    	PUSH	IX
0B3159 DD210000 00         A  4669    	LD	IX,0
0B315E DD39                A  4670    	ADD	IX,SP
                           A  4671    ;  445		if(mode) putch(0x0E);
                           A  4672    .LINE 445
                           A  4673    
0B3160 DD7E06              A  4674    	LD	A,(IX+%6)
0B3163 B7                  A  4675    	OR	A,A
0B3164 28 0C               A  4676    	JR	Z,L_75
0B3166 010E0000            A  4677    	LD	BC,14
0B316A C5                  A  4678    	PUSH	BC
0B316B CD 22 32 0B         A  4679    	CALL	_putch
0B316F C1                  A  4680    	POP	BC
                           A  4681    ;  446		else putch(0x0F);
                           A  4682    .LINE 446
                           A  4683    
0B3170 18 0A               A  4684    	JR	L_76
0B3172                     A  4685    L_75:
0B3172 010F0000            A  4686    	LD	BC,15
0B3176 C5                  A  4687    	PUSH	BC
0B3177 CD 22 32 0B         A  4688    	CALL	_putch
0B317B C1                  A  4689    	POP	BC
                           A  4690    ;  447	}
0B317C                     A  4691    L_76:
                           A  4692    .LINE 447
                           A  4693    
0B317C DDF9                A  4694    	LD	SP,IX
0B317E DDE1                A  4695    	POP	IX
0B3180 C9                  A  4696    	RET	
                           A  4697    
                           A  4698    
                           A  4699    ;**************************** _vdp_setpagedMode
                           A  4700    ;Name                         Addr/Register   S
                           A  4701    ;_putch                              IMPORT  --
                           A  4702    ;mode                                  IX+6    
                           A  4703    
                           A  4704    
                           A  4705    ; Stack Frame Size: 9 (bytes)
                           A  4706    ;       Spill Code: 0 (instruction)
                           A  4707    
                           A  4708    
                           A  4709    .ENDFUNC "vdp_setpagedMode",447,"_vdp_setpagedM
                           A  4710    ;  448	
                           A  4711    ;  449	void vdp_cursorDisable(void)
                           A  4712    ;  450	{
0B3181                     A  4713    _vdp_cursorDisable:
                           A  4714    .DEFINE "_vdp_cursorDisable"
                           A  4715    
                           A  4716    .VALUE _vdp_cursorDisable
                           A  4717    
                           A  4718    .CLASS 2
                           A  4719    
                           A  4720    .TYPE 65
                           A  4721    
                           A  4722    .ENDEF
                           A  4723    
                           A  4724    .BEGFUNC "vdp_cursorDisable",450,"_vdp_cursorDi
                           A  4725    
0B3181 DDE5                A  4726    	PUSH	IX
0B3183 DD210000 00         A  4727    	LD	IX,0
0B3188 DD39                A  4728    	ADD	IX,SP
                           A  4729    ;  451		putch(23);
                           A  4730    .LINE 451
                           A  4731    
0B318A 01170000            A  4732    	LD	BC,23
0B318E C5                  A  4733    	PUSH	BC
0B318F CD 22 32 0B         A  4734    	CALL	_putch
0B3193 C1                  A  4735    	POP	BC
                           A  4736    ;  452		putch(1);
                           A  4737    .LINE 452
                           A  4738    
0B3194 01010000            A  4739    	LD	BC,1
0B3198 C5                  A  4740    	PUSH	BC
0B3199 CD 22 32 0B         A  4741    	CALL	_putch
0B319D C1                  A  4742    	POP	BC
                           A  4743    ;  453		putch(0);
                           A  4744    .LINE 453
                           A  4745    
0B319E 01000000            A  4746    	LD	BC,0
0B31A2 C5                  A  4747    	PUSH	BC
0B31A3 CD 22 32 0B         A  4748    	CALL	_putch
0B31A7 C1                  A  4749    	POP	BC
                           A  4750    ;  454	}
                           A  4751    .LINE 454
                           A  4752    
0B31A8 DDF9                A  4753    	LD	SP,IX
0B31AA DDE1                A  4754    	POP	IX
0B31AC C9                  A  4755    	RET	
                           A  4756    
                           A  4757    
                           A  4758    ;**************************** _vdp_cursorDisabl
                           A  4759    ;Name                         Addr/Register   S
                           A  4760    ;_putch                              IMPORT  --
                           A  4761    
                           A  4762    
                           A  4763    ; Stack Frame Size: 6 (bytes)
                           A  4764    ;       Spill Code: 0 (instruction)
                           A  4765    
                           A  4766    
                           A  4767    .ENDFUNC "vdp_cursorDisable",454,"_vdp_cursorDi
                           A  4768    ;  455	
                           A  4769    ;  456	void vdp_cursorEnable(void)
                           A  4770    ;  457	{
0B31AD                     A  4771    _vdp_cursorEnable:
                           A  4772    .DEFINE "_vdp_cursorEnable"
                           A  4773    
                           A  4774    .VALUE _vdp_cursorEnable
                           A  4775    
                           A  4776    .CLASS 2
                           A  4777    
                           A  4778    .TYPE 65
                           A  4779    
                           A  4780    .ENDEF
                           A  4781    
                           A  4782    .BEGFUNC "vdp_cursorEnable",457,"_vdp_cursorEna
                           A  4783    
0B31AD DDE5                A  4784    	PUSH	IX
0B31AF DD210000 00         A  4785    	LD	IX,0
0B31B4 DD39                A  4786    	ADD	IX,SP
                           A  4787    ;  458		putch(23);
                           A  4788    .LINE 458
                           A  4789    
0B31B6 01170000            A  4790    	LD	BC,23
0B31BA C5                  A  4791    	PUSH	BC
0B31BB CD 22 32 0B         A  4792    	CALL	_putch
0B31BF C1                  A  4793    	POP	BC
                           A  4794    ;  459		putch(1);
                           A  4795    .LINE 459
                           A  4796    
0B31C0 01010000            A  4797    	LD	BC,1
0B31C4 C5                  A  4798    	PUSH	BC
0B31C5 CD 22 32 0B         A  4799    	CALL	_putch
0B31C9 C1                  A  4800    	POP	BC
                           A  4801    ;  460		putch(1);
                           A  4802    .LINE 460
                           A  4803    
0B31CA 01010000            A  4804    	LD	BC,1
0B31CE C5                  A  4805    	PUSH	BC
0B31CF CD 22 32 0B         A  4806    	CALL	_putch
0B31D3 C1                  A  4807    	POP	BC
                           A  4808    ;  461	}
                           A  4809    .LINE 461
                           A  4810    
0B31D4 DDF9                A  4811    	LD	SP,IX
0B31D6 DDE1                A  4812    	POP	IX
0B31D8 C9                  A  4813    	RET	
                           A  4814    
                           A  4815    
                           A  4816    ;**************************** _vdp_cursorEnable
                           A  4817    ;Name                         Addr/Register   S
                           A  4818    ;_putch                              IMPORT  --
                           A  4819    
                           A  4820    
                           A  4821    ; Stack Frame Size: 6 (bytes)
                           A  4822    ;       Spill Code: 0 (instruction)
                           A  4823    
                           A  4824    
                           A  4825    .ENDFUNC "vdp_cursorEnable",461,"_vdp_cursorEna
                           A  4826    ;  462	
                           A  4827    ;  463	void vdp_scroll(unsigned char extent, u
                           A  4828    ;  464	{
0B31D9                     A  4829    _vdp_scroll:
                           A  4830    .DEFINE "_vdp_scroll"
                           A  4831    
                           A  4832    .VALUE _vdp_scroll
                           A  4833    
                           A  4834    .CLASS 2
                           A  4835    
                           A  4836    .TYPE 65
                           A  4837    
                           A  4838    .ENDEF
                           A  4839    
                           A  4840    .BEGFUNC "vdp_scroll",464,"_vdp_scroll"
                           A  4841    
                           A  4842    .LINE 464
                           A  4843    
                           A  4844    .DEFINE "extent"
                           A  4845    
                           A  4846    .CLASS 65
                           A  4847    
                           A  4848    .VALUE 6
                           A  4849    
                           A  4850    .TYPE 12
                           A  4851    
                           A  4852    .ENDEF
                           A  4853    
                           A  4854    .DEFINE "direction"
                           A  4855    
                           A  4856    .CLASS 65
                           A  4857    
                           A  4858    .VALUE 9
                           A  4859    
                           A  4860    .TYPE 12
                           A  4861    
                           A  4862    .ENDEF
                           A  4863    
                           A  4864    .DEFINE "speed"
                           A  4865    
                           A  4866    .CLASS 65
                           A  4867    
                           A  4868    .VALUE 12
                           A  4869    
                           A  4870    .TYPE 12
                           A  4871    
                           A  4872    .ENDEF
                           A  4873    
0B31D9 DDE5                A  4874    	PUSH	IX
0B31DB DD210000 00         A  4875    	LD	IX,0
0B31E0 DD39                A  4876    	ADD	IX,SP
                           A  4877    ;  465		putch(23);
                           A  4878    .LINE 465
                           A  4879    
0B31E2 01170000            A  4880    	LD	BC,23
0B31E6 C5                  A  4881    	PUSH	BC
0B31E7 CD 22 32 0B         A  4882    	CALL	_putch
0B31EB C1                  A  4883    	POP	BC
                           A  4884    ;  466		putch(7);	// scroll
                           A  4885    .LINE 466
                           A  4886    
0B31EC 01070000            A  4887    	LD	BC,7
0B31F0 C5                  A  4888    	PUSH	BC
0B31F1 CD 22 32 0B         A  4889    	CALL	_putch
0B31F5 C1                  A  4890    	POP	BC
                           A  4891    ;  467		putch(extent);
                           A  4892    .LINE 467
                           A  4893    
0B31F6 DD7E06              A  4894    	LD	A,(IX+%6)
0B31F9 B7ED62              A  4895    	UEXT	HL
0B31FC 6F                  A  4896    	LD	L,A
0B31FD E5                  A  4897    	PUSH	HL
0B31FE CD 22 32 0B         A  4898    	CALL	_putch
0B3202 C1                  A  4899    	POP	BC
                           A  4900    ;  468		putch(direction);
                           A  4901    .LINE 468
                           A  4902    
0B3203 DD7E09              A  4903    	LD	A,(IX+%9)
0B3206 B7ED62              A  4904    	UEXT	HL
0B3209 6F                  A  4905    	LD	L,A
0B320A E5                  A  4906    	PUSH	HL
0B320B CD 22 32 0B         A  4907    	CALL	_putch
0B320F C1                  A  4908    	POP	BC
                           A  4909    ;  469		putch(speed);
                           A  4910    .LINE 469
                           A  4911    
0B3210 DD7E0C              A  4912    	LD	A,(IX+%C)
0B3213 B7ED62              A  4913    	UEXT	HL
0B3216 6F                  A  4914    	LD	L,A
0B3217 E5                  A  4915    	PUSH	HL
0B3218 CD 22 32 0B         A  4916    	CALL	_putch
0B321C C1                  A  4917    	POP	BC
                           A  4918    .LINE 470
                           A  4919    
0B321D DDF9                A  4920    	LD	SP,IX
0B321F DDE1                A  4921    	POP	IX
0B3221 C9                  A  4922    	RET	
                           A  4923    
                           A  4924    
                           A  4925    ;**************************** _vdp_scroll *****
                           A  4926    ;Name                         Addr/Register   S
                           A  4927    ;_putch                              IMPORT  --
                           A  4928    ;speed                                IX+12    
                           A  4929    ;direction                             IX+9    
                           A  4930    ;extent                                IX+6    
                           A  4931    
                           A  4932    
                           A  4933    ; Stack Frame Size: 15 (bytes)
                           A  4934    ;       Spill Code: 0 (instruction)
                           A  4935    
                           A  4936    
                           A  4937    .ENDFUNC "vdp_scroll",470,"_vdp_scroll"
                           A  4938    	XREF _getsysvar_scrchar:ROM
                           A  4939    	XREF _getsysvar_cursorY:ROM
                           A  4940    	XREF _getsysvar_cursorX:ROM
                           A  4941    	XREF _putch:ROM
                           A  4942    	XREF __imuls:ROM
                           A  4943    	XREF __stoiu:ROM
                           A  4944    	XDEF _vdp_scroll
                           A  4945    	XDEF _vdp_cursorEnable
                           A  4946    	XDEF _vdp_cursorDisable
                           A  4947    	XDEF _vdp_setpagedMode
                           A  4948    	XDEF _vdp_asciiCodeAt
                           A  4949    	XDEF _vdp_cursorGetYpos
                           A  4950    	XDEF _vdp_cursorGetXpos
                           A  4951    	XDEF _vdp_spriteRefresh
                           A  4952    	XDEF _vdp_spriteActivateTotal
                           A  4953    	XDEF _vdp_spriteMoveBy
                           A  4954    	XDEF _vdp_spriteMoveBySelected
                           A  4955    	XDEF _vdp_spriteMoveTo
                           A  4956    	XDEF _vdp_spriteMoveToSelected
                           A  4957    	XDEF _vdp_spriteHide
                           A  4958    	XDEF _vdp_spriteHideSelected
                           A  4959    	XDEF _vdp_spriteShow
                           A  4960    	XDEF _vdp_spriteShowSelected
                           A  4961    	XDEF _vdp_spriteSetFrame
                           A  4962    	XDEF _vdp_spriteSetFrameSelected
                           A  4963    	XDEF _vdp_spritePreviousFrame
                           A  4964    	XDEF _vdp_spritePreviousFrameSelected
                           A  4965    	XDEF _vdp_spriteNextFrame
                           A  4966    	XDEF _vdp_spriteNextFrameSelected
                           A  4967    	XDEF _vdp_spriteAddFrame
                           A  4968    	XDEF _vdp_spriteAddFrameSelected
                           A  4969    	XDEF _vdp_spriteClearFrames
                           A  4970    	XDEF _vdp_spriteClearFramesSelected
                           A  4971    	XDEF _vdp_spriteSelect
                           A  4972    	XDEF _vdp_bitmapCreateSolidColor
                           A  4973    	XDEF _vdp_bitmapCreateSolidColorSelected
                           A  4974    	XDEF _vdp_bitmapDraw
                           A  4975    	XDEF _vdp_bitmapDrawSelected
                           A  4976    	XDEF _vdp_bitmapSendData
                           A  4977    	XDEF _vdp_bitmapSendDataSelected
                           A  4978    	XDEF _vdp_bitmapSelect
                           A  4979    	XDEF _vdp_plotSetOrigin
                           A  4980    	XDEF _vdp_plotCircleCircumference
                           A  4981    	XDEF _vdp_plotCircleRadius
                           A  4982    	XDEF _vdp_plotTriangle
                           A  4983    	XDEF _vdp_plotPoint
                           A  4984    	XDEF _vdp_plotLineTo
                           A  4985    	XDEF _vdp_plotMoveTo
                           A  4986    	XDEF _vdp_plot
                           A  4987    	XDEF _vdp_plotColour
                           A  4988    	XDEF _vdp_clearGraphics
                           A  4989    	XDEF _vdp_bgcolour
                           A  4990    	XDEF _vdp_fgcolour
                           A  4991    	XDEF _vdp_colour
                           A  4992    	XDEF _vdp_cursorGoto
                           A  4993    	XDEF _vdp_cursorUp
                           A  4994    	XDEF _vdp_cursorHome
                           A  4995    	XDEF _vdp_cls
                           A  4996    	XDEF _vdp_setPaletteColor
                           A  4997    	XDEF _vdp_getMode
                           A  4998    	XDEF _vdp_mode
                           A  4999    	XDEF _write32bit
                           A  5000    	XDEF _write16bit
                           A  5001    	END


Errors: 0
Warnings: 0
Lines Assembled: 5002
